<div  :class="['rightCon',{'show':currEditPart == 20}] " v-cloak>
    <div class="modBox msgContainer ">
        <div class="title" v-if="currEditPart == 20">消息通知
            <el-popover popper-class="alertPop resetPop" :value="currEditPart === 20 && showResetPop" @show="showResetPop = true" v-if="checkHasIn('msg',20) && (!checkModelHasIn() || !checkCompInModel())">
                <div class="text_con">
                    <h4>确认重置该组件为默认样式？</h4>
                </div>
                <div class="alertBtn">
                    <a href="javascript:;" class="cancel" @click="showResetPop = false"><s></s><span>取消</span></a>
                    <a href="javascript:;" class="sure" @click="resetItem('msg')"><s></s><span>确定</span></a>
                </div>
                <span class="reset_btn" slot="reference" ><s></s>重置此项</span>
            </el-popover>
            <div class="reset_btn" v-else>
                <span class="btn"><s></s>重置此项</span>
                <div class="smPop">
                    <ul class="subtit_options">
                        <el-popover popper-class="alertPop resetPop maskPop" :value="currEditPart === 20 && showResetPop" v-if="checkHasIn('msg',20)" @show="showResetPop = true" :visible-arrow="false" placement="top-end">
                            <div class="text_con">
                                <h4>确认恢复上次保存样式？</h4>
                            </div>
                            <div class="alertBtn">
                                <a href="javascript:;" class="cancel" @click="showResetPop = false"><s></s><span>取消</span></a>
                                <a href="javascript:;" class="sure" @click="resetItem('msg',1)"><s></s><span>确定</span></a>
                            </div>
                            <li class="text" slot="reference">恢复上次保存</li> 
                        </el-popover>
                        <el-popover popper-class="alertPop resetPop maskPop" :value="currEditPart === 20 && showResetPop" v-if="checkModelHasIn() && checkCompInModel()" @show="showResetPop = true" :visible-arrow="false" placement="top-end">
                            <div class="text_con">
                                <h4>确认将该组件恢复成模板样式？</h4>
                            </div>
                            <div class="alertBtn">
                                <a href="javascript:;" class="cancel" @click="showResetPop = false"><s></s><span>取消</span></a>
                                <a href="javascript:;" class="sure" @click="reChangeToModel('msg',20)"><s></s><span>确定</span></a>
                            </div>
                            <li class="text" slot="reference">重置模板样式</li> 
                        </el-popover>
                        <el-popover popper-class="alertPop resetPop maskPop" :value="currEditPart === 20 && showResetPop" @show="showResetPop = true" :visible-arrow="false" placement="top-end">
                            <div class="text_con">
                                <h4>确认将该组件恢复默认样式？</h4>
                            </div>
                            <div class="alertBtn">
                                <a href="javascript:;" class="cancel" @click="showResetPop = false"><s></s><span>取消</span></a>
                                <a href="javascript:;" class="sure" @click="resetItem('msg',0)"><s></s><span>确定</span></a>
                            </div>
                            <li class="text" slot="reference">重置默认样式</li> 
                        </el-popover>
                    </ul>
                </div>
            </div>
        </div>
        <div class="modInfoStyle">
            <div class="modstyleBox">
                <h2 class="stitle">组件样式</h2>
                <div class="sContent ">
                    <div class="style_options flexItem">
                        <div class="column_chose fullwidth">
                            <s :style="'left:'+(msgFormData.styletype == 1 ? '2px' : (25 * (msgFormData.styletype - 1) + '%'))+';'"></s>
                            <span v-for="item in 4" @click="msgFormData.styletype = item" class="slide4">样式{{numArr[item - 1]}}</span>
                        </div>
                    </div>
                    <div class="style_options flexItem " >
                        <div class="titleBox">
                            <div class="inpCon">
                                <el-input v-if="msgFormData.title.type == 'text'" placeholder="请输入标题" v-model="msgFormData.title.text"></el-input>
                                <div class="imgTitle" v-else> 
                                    <div class="imgbox"><img :src="msgFormData.title.image" alt=""></div>
                                    <span class="del_title" @click="msgFormData.title.type = 'text'; msgFormData.title.image = ''"></span>
                                </div>
                            </div>
                            <div class="colorPicker">
                                <el-color-picker v-model="msgFormData.title.style.color" @active-change="(value) => activeChangeColor(value,'msgFormData.title.style.color')"></el-color-picker>
                            </div>
                            <div class="pic_upload"><input type="file" name="Filedata" accept=".png,.jpg,.jpeg" class="fileUp" id="msgTitle_filedata" data-type="msgTitle"></div>
                        </div>
                    </div>
                    
                </div>
            </div>
            <div class="modstyleBox contentSetBox">
                <h2 class="stitle">内容设置</h2>
                <div class="sContent ">
                    <div class="style_options flex_l" >
                        <label for="">添加方式：</label>
                        <div class="split_options radioBox">
                            <span :class="[{'onChose':msgFormData.msgType == item.type}]" @click="msgFormData.msgType = item.type,announceChange(item.type)" v-for="(item,ind) in msgType" v-if="item.type != 2"><s></s>{{item.text}}</span>
                        </div>
                    </div>
                    <div class="style_item marginTop selectbox" v-show="msgFormData.msgType != 4">
                        <div class="style_options flex_l">
                            <el-select v-model="msgFormData.msgType" class="bigInp" placeholder="请选择" @change="announceChange">
                               <span class="icon_link el-icon" slot="prefix"></span>
                                <el-option v-for="item in msgType" 
                                    :key="item.type"
                                    :label="item.text"
                                    :value="item.type" v-if="item.type != 4" >
                                </el-option>
                            </el-select>
                            <el-cascader
                                    class="selectItem" v-show="msgFormData.msgType == 3"
                                    :show-all-levels="false"
                                    v-model="msgFormData.articleTypeArr"
                                    :props="{label:'typename', value:'id', children:'lower'}"
                                    filterable
                                    ref="msgType"
                                    popper-class="classify"
                                    @change="(value) => typeChange('msgFormData',value)"
                                    :options="allTypeList['article']">
                                    <template slot-scope="{ node,data }">
                                        <span>{{ data.title ? data.title : '不限'}}</span>
                                    </template>
                                </el-cascader>

                                <!-- :disabled="msgFormData.msgType == 1" -->
                            <el-select v-model="msgFormData.order" placeholder="请选择" @change="changeMsgOrder">
                                <el-option v-for="item in msgOrderList" 
                                    :key="item.id"
                                    v-show="(msgFormData.msgType == 3) || item.id == 1"
                                    :label="item.text"
                                    :value="item.id">
                                </el-option>
                            </el-select>

                            <!-- 查看 公告列表 -->
                            <a href="javascript:;" class="openListPop" @click="showMsgPop"></a>
                        </div>
                    </div>
                    <div class="style_item marginTop" v-show="msgFormData.msgType <= 3">
                        <div class="style_options flexItem" v-if="msgFormData.msgType == 3">
                            <label for="">标签/分类：</label>
                            <div class="flex_l">
                                <el-checkbox v-model="msgFormData.labShow">显示</el-checkbox>
                            </div>
                        </div>
                        <div class="style_options">
                            <label for="">显示条数：</label>
                            <div class="flex_l">
                                前<el-input class="smInp" @keyup.native="msgFormData.listShow = msgFormData.listShow.replace(/\D/g,'')" @paste.native="msgFormData.listShow = msgFormData.listShow.replace(/\D/g,'')" v-model="msgFormData.listShow" @input="msgFormData.listShow = (Number(msgFormData.listShow) > 20 ? '20' : msgFormData.listShow)" @change="getInfoMation"><template slot="append">条</template></el-input><span class="limit_tip">*最多设置20</span>
                            </div>
                        </div>
                    </div>
                    <div class="arrList sortInpList " v-show="msgFormData.msgType == 4">
                        <div  class="btnsBox btn_item btnsSort sortBox"  data-sort="msgFormData.listArr" data-drag=".item" data-filter="input">
                            <div class="option_item item" v-for="(link,ind) in msgFormData.listArr" :data-id="ind" :key="'msg_' + link.id">
                                <s class="del_item" @click="delTopBtns('msgFormData',ind)"></s>
                                <s class="left_icon"><img src="/static/images/admin/order_icon.png" alt=""></s>
                                <div class="item_con flex_r">
                                    <div class="imgText inpGroup">
                                        <div class="inpbox" v-if="msgFormData.labShow">
                                            <el-input class="btn" v-model="link.lab"><template slot="prepend">标签</template></el-input>
                                        </div>
                                        <div class="inpbox" >
                                            <el-input  class="iconName" v-model="link.text"><template slot="prepend">内容</template></el-input>
                                        </div>
                                    </div>
                                    <div :class="['inpbox linkbox linkChose fullLink']" @click="changeLink('msgFormData.listArr.' + ind + '.link')" >
                                        <s>
                                            <img v-if="link.linkInfo.type == 4"  src="/static/images/admin/siteMemberPage/tel.png">
                                            <img v-else src="/static/images/admin/link.png">
                                        </s>
                                        <input type="text" placeholder="请选择链接" class="iconLink" readonly v-model="link.linkInfo.linkText || link.link">
                                    </div>
                                    
                                </div>
                            </div>
                            <a href="javascript:;" class="add_more" @click="addNewTopBtns('msgFormData')"  ><s></s>内容</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modstyleBox">
                <h2 class="stitle">组件样式</h2>
                <div class="sContent ">
                    <div class="style_item">
                        <div class="style_options flexItem">
                            <label for="">内容字号：</label>
                            <div class="split_options radioBox">
                                <span :class="{'onChose': msgFormData.style.fontSize == 24}" @click="msgFormData.style.fontSize = 24"><s></s>常规</span>
                                <span :class="{'onChose': msgFormData.style.fontSize == 26}" @click="msgFormData.style.fontSize = 26"><s></s>加大</span>
                            </div>
                        </div>
                        <div class="style_options" >
                            <label for="">通知内容：</label>
                            <div class="colorpickerBox">
                                <el-color-picker  class="colorpicker" v-model="msgFormData.style.textColor" @active-change="(value) => activeChangeColor(value,'msgFormData.style.textColor')"></el-color-picker>
                            </div>
                            <div class="colorShowBox">
                                <span class="single">#</span>
                                <input type="text" class="colorShow" :value="(msgFormData.style.textColor).replace('#','')" @change="changeColor('msgFormData.style.textColor')" maxlength="6">
                                <button @click="resetColor('msgFormData.style.textColor')">重置</button>
                            </div>
                        </div>
                        <div class="style_options">
                            <label for="">标签文本：</label>
                            <div class="colorpickerBox">
                                <el-color-picker  class="colorpicker" v-model="msgFormData.style.labColor" @active-change="(value) => activeChangeColor(value,'msgFormData.style.labColor')"></el-color-picker>
                            </div>
                            <div class="colorShowBox">
                                <span class="single">#</span>
                                <input type="text" class="colorShow" :value="(msgFormData.style.labColor).replace('#','')" @change="changeColor('msgFormData.style.labColor')" maxlength="6">
                                <button @click="resetColor('msgFormData.style.labColor')">重置</button>
                            </div>
                        </div>
                        <div class="style_options" >
                            <label for="">标签颜色：</label>
                            <div class="colorpickerBox">
                                <el-color-picker class="colorpicker" @active-change="(value) => activeChangeColor(value,'msgFormData.style.labBgColor')" v-model="msgFormData.style.labBgColor"></el-color-picker>
                            </div>
                            <div class="colorShowBox">
                                <span class="single">#</span>
                                <input type="text" class="colorShow" :value="msgFormData.style.labBgColor.replace('#','')" spellcheck="false" maxlength="6"  @change="changeColor('msgFormData.style.labBgColor')">
                                <button @click="resetColor('msgFormData.style.labBgColor')">重置</button>
                            </div>
                            <div class="opciatyBox">
                                <input type="text" class="opciatySet" v-model="msgFormData.style.labBgOpacity">
                                <span  class="single back">%</span>
                            </div>
                        </div>
                        <div class="style_options" >
                            <label for="">标签边框：</label>
                            <div class="colorpickerBox">
                                <el-color-picker class="colorpicker" @active-change="(value) => activeChangeColor(value,'msgFormData.style.labBorderColor')" v-model="msgFormData.style.labBorderColor"></el-color-picker>
                            </div>
                            <div class="colorShowBox">
                                <span class="single">#</span>
                                <input type="text" class="colorShow" :value="msgFormData.style.labBorderColor.replace('#','')" spellcheck="false" maxlength="6"  @change="changeColor('msgFormData.style.labBorderColor')">
                                <button  @click="resetColor('msgFormData.style.labBorderColor')">重置</button>
                            </div>
                            <div class="opciatyBox">
                                <input type="text" class="opciatySet" v-model="msgFormData.style.labBorderOpacity">
                                <span  class="single back">%</span>
                            </div>
                        </div>
                        <div class="style_options" >
                            <label for="">背景：</label>
                            <div class="colorpickerBox">
                                <el-color-picker class="colorpicker" @active-change="(value) => activeChangeColor(value,'msgFormData.style.bgColor')" v-model="msgFormData.style.bgColor"></el-color-picker>
                            </div>
                            <div class="colorShowBox">
                                <span class="single">#</span>
                                <input type="text" class="colorShow" :value="msgFormData.style.bgColor.replace('#','')" spellcheck="false" maxlength="6"  @change="changeColor('msgFormData.style.bgColor')">
                                <button  @click="resetColor('msgFormData.style.bgColor')">重置</button>
                            </div>
                            <div class="opciatyBox">
                                <input type="text" class="opciatySet" v-model="msgFormData.style.opacity">
                                <span  class="single back">%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        
             <!-- 间距设置 -->
             <div class="marginSetBox modstyleBox" >
                <h2 class="stitle">间距设置</h2>
                <el-collapse-transition>
                    <div class="style_item" >
                        <div class="sContent">
                           
                            <div class="style_options">
                                <label for="">圆角值：</label>
                                <el-slider tooltip-class="tooltip_show"  v-model="msgFormData.style.borderRadius" :show-tooltip="showTooltip"  :min="0" :max="50"></el-slider>
                                <div class="colorShowBox" style="background-color: #E8EAEC;">
                                    <input type="number" class="colorShow"  @input="checkMax(0,50,'msgFormData.style.borderRadius')" :value="msgFormData.style.borderRadius">
                                    <span class="single back">px</span>
                                </div>
                            </div>
                          
                            <div class="style_options">
                                <label for="">高度：</label>
                                <el-slider tooltip-class="tooltip_show" v-model="msgFormData.style.height" :show-tooltip="showTooltip"  :min="72" :max="120"></el-slider>
                                <div class="colorShowBox" style="background-color: #E8EAEC;">
                                    <input type="number" class="colorShow" @change="checkMax(72,120,'msgFormData.style.height')" :value="msgFormData.style.height">
                                    <span class="single back">px</span>
                                </div>
                            </div>
                            <div class="style_options">
                                <label for="">上间距：</label>
                                <el-slider tooltip-class="tooltip_show" v-model="msgFormData.style.marginTop" :show-tooltip="showTooltip"  :min="0" :max="40"></el-slider>
                                <div class="colorShowBox" style="background-color: #E8EAEC;">
                                    <input type="number" class="colorShow" @input="checkMax(0,40,'msgFormData.style.marginTop')" :value="msgFormData.style.marginTop">
                                    <span class="single back">px</span>
                                </div>
                            </div>
                            <div class="style_options">
                                <label for="">左右间距：</label>
                                <el-slider tooltip-class="tooltip_show" v-model="msgFormData.style.marginLeft" :show-tooltip="showTooltip"  :min="0" :max="40"></el-slider>
                                <div class="colorShowBox" style="background-color: #E8EAEC;">
                                    <input type="number" class="colorShow" @input="checkMax(0,40,'msgFormData.style.marginLeft')" :value="msgFormData.style.marginLeft">
                                    <span class="single back">px</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </el-collapse-transition>
            </div>
        </div>
    </div>
</div>