import{c as a,a as t,P as e,i as l,j as i,h as s,b as o,d as n,e as r,r as c,n as d,k as h,o as p,l as u,w as m,m as g,q as f,A as k,t as b,v as _,y as x,F as v,x as w,z as C,B as D,C as y,G as B,D as F}from"./index-cF6skFzP.js";import{r as j,_ as S}from"./uni-app.es.J1otcSEF.js";import{p as $}from"./task.9CwFAmAC.js";import{_ as P}from"./_plugin-vue_export-helper.BCo6x5W8.js";let R=g();var T;const U=P({data:()=>({wh:R.globalData.navTop+R.globalData.appFullWh,headerh:0,masterDomain:R.globalData.masterDomain,imgStaticPath:R.globalData.imgStaticPath,biasTop_88:R.globalData.biasTop_88,appBack:R.globalData.appBack,touchb:!0,privateb:!1,imgsrc:R.globalData.imgPath+"/task/",themedata:{},shdata:null,themeimg:{},shtime:"60,60",page:1,pageSize:10,tabdata:[{title:"60分钟",rank:"60,60"},{title:"30分钟",rank:"30,30"},{title:"15分钟",rank:"15,15"}],animation:{},listdata:[],pages:$,tabActive:0,imgVersion:null,platForm:R.globalData.platForm,appBoolean:R.globalData.appBoolean,appFullScreen:R.globalData.appFullScreen,channelDomain:R.globalData.channelDomain}),onLoad(a){T=this,-1==R.globalData.wxprivate?R.watchG("wxprivate",(function(t){T.wxprivate=t,t?T.privateb=!0:T.onload(a)})):R.globalData.wxprivate?T.privateb=!0:T.onload(a),T.pages=R.pageFn($)},onReady(){const t=a();t.select(".rec-title").boundingClientRect(),t.exec((a=>{a[0]&&(T.headerh=a[0].height)}))},onShow(){},onHide(){},onUnload(){},onPullDownRefresh(){R.reloadFn()},onReachBottom(){this.onReachBottomClone()},onShareAppMessage(){return{title:this.themedata.title+" 极速审核",imageUrl:this.themedata.sharePic}},onShareTimeline(){return{title:this.themedata.title+" 极速审核",imageUrl:this.themedata.sharePic}},methods:{onload(a){T.imgVersion=R.globalData.imgVersion,t({title:"加载中",mask:!0,success:()=>{e({key:"warnColor",success:a=>{e({key:"warnColor",success:a=>{T.themedata=a.data.themeDate,T.setBgColor(this.themedata.themeBackgroundColor),a.data.outtime<Date.parse(new Date)&&l({key:"warnColor",success:()=>{T.$ajax.post({url:"include/ajax.php?service=task&action=config"}).then((a=>{null!=a.data.info.themeBackgroundColor?(T.themedata=a.data.info,i({key:"warnColor",data:{themeDate:this.themedata,outtime:Date.parse(new Date)+36e5}}),T.setBgColor(this.themedata.themeBackgroundColor),s()):(s(),o({title:"服务器出错",icon:"error",mask:!0,duration:5e3}))}))}})}}),s()},fail:a=>{T.$ajax.post({url:"include/ajax.php?service=task&action=config"}).then((a=>{null!=a.data.info.themeBackgroundColor?(T.themedata=a.data.info,i({key:"warnColor",data:{themeDate:this.themedata,outtime:Date.parse(new Date)+36e5}}),T.setBgColor(this.themedata.themeBackgroundColor),s()):(s(),o({title:"服务器出错",icon:"error",mask:!0,duration:5e3}))}))}})}}),T.$ajax.post({url:"include/ajax.php?"+R.encodeUrl("service=task&action=list"),data:{page:1,pageSize:10,fast:1,shtime:"60,60"}}).then((a=>{let t=a.data.info.list;null==t?T.touchb=!1:t.length<=9?(T.shdata=a.data.info.list,T.touchb=!1):T.shdata=a.data.info.list})),T.$ajax.post({url:"include/ajax.php?"+R.encodeUrl("service=siteConfig&action=adv&model=task"),data:{title:"任务悬赏_小程序端_模板一_极速审核_广告一"}}).then((a=>{T.themeimg=a.data.info}));T.$ajax.post({url:"include/ajax.php?"+R.encodeUrl("service=task&action=list"),data:{page:1,pageSize:10,fast:1,orderby:1}}).then((a=>{T.listdata=a.data.info.list,console.log(T.listdata)}))},backFn(){if(T.appBoolean)return window.setupWebViewJavascriptBridge((function(a){a.callHandler("goBack",{},(function(a){}))})),!1;{let a=n();a&&a.length>1?r({delta:1}):"web"==T.platForm?location.href=`${T.masterDomain}${window.pathname}${T.pages.index}`:c({url:"/pages/packages/task/index/index"})}},setBgColor(a){"web"!=T.platForm&&uni.setBackgroundColor({backgroundColor:a,fail:a=>{console.log(a)}})},linkTo(a){if(a){if(T.appBoolean)return window.setupWebViewJavascriptBridge((function(t){t.callHandler("redirectNative",{name:"",code:"",link:a},(function(){}))})),!1;if("web"==T.platForm)a.indexOf("http")>-1?location.href=a:d({url:a});else{if(a.includes("tomini")){let t=a.split("?")[1].split("&");for(let e=0;e<t.length;e++)if(t[e].includes("tomini")){a=t[e].replace("tomini=",""),t.splice(e,1);break}a+=`?${t.join("&")}`}d({url:a.indexOf("http")>-1?"/pages/redirect/index?url="+encodeURIComponent(a):a})}}},tabFn(a){T.tabActive=a.target.dataset.index,T.shtime=a.target.dataset.shtime,T.page=0,T.shdata=[],this.onReachBottomClone()},onReachBottomClone(){T.$ajax.post({url:"include/ajax.php?"+R.encodeUrl("service=task&action=list"),data:{page:++this.page,pageSize:this.pageSize,shtime:this.shtime,fast:1}}).then((a=>{null==a.data.info.list?T.touchb=!1:a.data.info.list.length<=9?(T.shdata=this.shdata.concat(a.data.info.list),T.touchb=!1):(T.shdata=this.shdata.concat(a.data.info.list),T.touchb=!0)}))}}},[["render",function(a,t,e,l,i,s){const o=f,n=y,r=F,c=j(h("private_tip"),S);return p(),u(o,{style:{height:"100%"}},{default:m((()=>[i.appBack?(p(),k(v,{key:0},[b(o,{style:_("height:"+i.wh+"px;background-color: "+i.themedata.themeBackgroundColor+";position: sticky;top: 0rpx;z-index: 99;padding-bottom: 88rpx;"),catchtouchmove:""},null,8,["style"]),b(o,{class:"rec-title",style:_("background-color: "+i.themedata.themeBackgroundColor+";top: "+(i.wh+i.biasTop_88)+"px;")},{default:m((()=>[b(n,{src:i.imgsrc+"bl-arrow.png?v="+i.imgVersion,onClick:s.backFn,mode:"aspectFill"},null,8,["src","onClick"]),b(o,null,{default:m((()=>[x("极速审核")])),_:1})])),_:1},8,["style"])],64)):w("",!0),i.themeimg.turl?(p(),u(o,{key:1,class:"top-banner"},{default:m((()=>[b(n,{src:i.themeimg.turl,mode:"aspectFill",class:"picAdv"},null,8,["src"]),1==i.themeimg.advMarkState&&0==i.themeimg.markState?(p(),u(n,{key:0,src:`${i.imgStaticPath}/advMarkTouch.png?v=${i.imgVersion}`,class:C(`advLabel _${i.themeimg.advMarkPostion}_`)},null,8,["src","class"])):w("",!0)])),_:1})):w("",!0),b(o,{class:"publist"},{default:m((()=>[b(o,{class:"pub-content"},{default:m((()=>[b(o,{class:"animation"},{default:m((()=>[b(o,{class:"pub-items",style:{width:"656rpx"}}),(p(!0),k(v,null,D(i.listdata,((a,t)=>(p(),u(o,{class:"pub-items",key:t},{default:m((()=>[b(n,{src:a.photo,mode:"aspectFill"},null,8,["src"]),b(r,{class:"name"},{default:m((()=>[x(B(a.nickname),1)])),_:2},1024),b(r,null,{default:m((()=>[x("刚刚发布了极速审核任务")])),_:1})])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),b(o,{class:"check-list"},{default:m((()=>[b(o,{class:"cl-tab",style:_("top:calc("+i.wh+"px + "+i.headerh+"px)")},{default:m((()=>[(p(!0),k(v,null,D(i.tabdata,((a,t)=>(p(),u(o,{class:C(t==i.tabActive?"active":""),"data-index":t,"data-shtime":a.rank,onClick:s.tabFn,key:t},{default:m((()=>[x(B(a.title),1)])),_:2},1032,["class","data-index","data-shtime","onClick"])))),128))])),_:1},8,["style"]),b(o,{class:"cl-detail"},{default:m((()=>[(p(!0),k(v,null,D(i.shdata,((a,t)=>(p(),u(o,{onClick:t=>s.linkTo(`${i.appBoolean?i.channelDomain:""}${i.pages.details}?id=${a.id}&number=${a.number}&${i.appFullScreen}`),class:"detail",key:t},{default:m((()=>[b(o,{class:"hphoto"},{default:m((()=>[b(n,{src:a.photo,mode:"aspectFill"},null,8,["src"]),b(o,{class:"right"},{default:m((()=>[b(o,{class:"title"},{default:m((()=>[b(o,null,{default:m((()=>[x(B(a.title),1)])),_:2},1024),b(o,{class:"reward"},{default:m((()=>[b(n,{src:i.imgsrc+"reward.png?v="+i.imgVersion,mode:"aspectFill"},null,8,["src"]),x(" "+B(a.price),1)])),_:2},1024)])),_:2},1024),b(o,{class:"label"},{default:m((()=>[b(o,null,{default:m((()=>[x(B(a.typename),1)])),_:2},1024),b(o,null,{default:m((()=>[x(B(a.project),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),b(o,{class:"bdata"},{default:m((()=>[b(o,{style:{"margin-left":"118rpx"}},{default:m((()=>[b(r,{style:{"margin-right":"13rpx"}},{default:m((()=>[x(B(a.statistics.valid)+"人已赚",1)])),_:2},1024),b(r,null,{default:m((()=>[x("剩余"+B(a.quota-a.statistics.used)+"人",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),i.touchb?(p(),u(o,{key:2,class:"loadingtext"},{default:m((()=>[x("加载中...")])),_:1})):w("",!0),i.touchb?w("",!0):(p(),u(o,{key:3,class:"nomore"},{default:m((()=>[x("没有更多喽")])),_:1})),b(c,{privateShow:i.privateb},null,8,["privateShow"])])),_:1})}],["__scopeId","data-v-7c863993"]]);export{U as default};
