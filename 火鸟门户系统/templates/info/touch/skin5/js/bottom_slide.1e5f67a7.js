import{o as t,i as e,w as a,l as s,m as i,q as l,x as d,y as n,z as r,F as c,v as o,j as u,k as p,B as m,t as y}from"./index-6ef16ca3.js";import{_ as f}from"./info.3393217b.js";const h=u();var L;const _=f({data:()=>({imgPath:h.globalData.imgPath,imgVersion:h.globalData.imgVersion,cityList:[],openSlide:!1,paramArr:[],clickSure:!1,natureList:[{id:2,name:"商家认证"},{id:1,name:"实名认证"}],disList:[{id:1,name:"1km"},{id:2,name:"2km"},{id:5,name:"5km"},{id:10,name:"10km"}],typelistClone:""}),props:{slide:{type:Boolean,default:!1},typelist:{type:Object,default:()=>[]}},methods:{hidePop:function(){this.clickSure||this.resetParam(),this.$emit("hideSlide")},getCityList(){var t="service=info&action=addr&son=once&type="+h.globalData.cityInfo.cityid;h.encodeUrl(t),this.$ajax.post({url:"include/ajax.php?"+t}).then((t=>{var e=t.data;L.cityList=e.info}))},openDl(){L.openSlide=!L.openSlide},intoParam(t){var e=[],a=t.currentTarget,s=a.dataset.name,i=a.dataset.prarm,l="",d=[],n=[],r=[],c=[];if("addrid"==s||"distance"==s)if("addrid"==s)l="distance";else l="addrid";for(var o=0;o<L.cityList.length;o++)"distance"!=s&&"addrid"!=s||(L.cityList[o].selected=!1),L.cityList[o].id==i&&"addrid"!=l&&"distance"==l&&(L.cityList[o].selected=!0),L.cityList[o].selected&&d.push(L.cityList[o].id);for(o=0;o<L.disList.length;o++){if("distance"!=s&&"addrid"!=s||(L.disList[o].selected=!1),L.disList[o].id==i&&"distance"!=l&&"addrid"==l){L.disList[o].selected=!0;for(var u=0;u<L.cityList.length;u++)L.cityList[u].selected=!1}L.disList[o].selected&&n.push(L.disList[o].id)}for(o=0;o<L.typelist.length;o++)"typeid"==s&&(L.typelist[o].selected=!1),L.typelist[o].id==i&&"typeid"==s&&(L.typelist[o].selected=!0),L.typelist[o].selected&&r.push(L.typelist[o].id);for(o=0;o<L.natureList.length;o++)"nature"==s&&(L.natureList[o].selected=!1),L.natureList[o].id==i&&"nature"==s&&(L.natureList[o].selected=!0),L.natureList[o].selected&&c.push(L.natureList[o].id);L.cityList=L.cityList,L.typelistClone=L.typelist,L.disList=L.disList,L.natureList=L.natureList,n.length&&e.push("distance="+n[0]),d.length&&e.push("addrid="+d.join(",")),r.length&&e.push("typeid="+r.join(",")),c.length&&e.push("nature="+c.join(",")),L.paramArr=e},confirmParam(){var t=L.paramArr;L.clickSure=!0,L.$emit("getParam",{detail:t})},resetParam(){L.cityList=L.setJsonArr(L.cityList),L.disList=L.setJsonArr(L.disList),L.natureList=L.setJsonArr(L.natureList),L.typelistClone=L.setJsonArr(L.typelist),L.paramArr=[]},setJsonArr(t){for(var e=0;e<t.length;e++)t[e].selected=!1;return t}},created:function(){},mounted(){(L=this).getCityList()}},[["render",function(u,f,h,L,_,k){const g=p,C=m;return t(),e(g,{style:{height:"100%"}},{default:a((()=>[s(g,{class:"mask_shai",onClick:k.hidePop,style:i("display:"+(h.slide?"block":"none"))},null,8,["onClick","style"]),s(g,{class:"shai_pop",style:i((h.slide?"transform:translateY(0)":"transform:translateY(100%)")+" ")},{default:a((()=>[s(g,{class:"shai_box"},{default:a((()=>[s(g,{class:"dl"},{default:a((()=>[s(g,{class:"dt"},{default:a((()=>[l("位置")])),_:1}),s(g,{class:d("dd "+(_.openSlide?"open":""))},{default:a((()=>[s(g,{class:"area fn-clear ul"},{default:a((()=>[(t(!0),n(c,null,r(_.disList,((s,i)=>(t(),e(g,{class:d("li "+(s.selected&&1==s.selected?"on_chose":"")),"data-prarm":s.id,"data-name":"distance",onClick:k.intoParam,key:i},{default:a((()=>[l(y(0==i?"附近":"")+y(s.name),1)])),_:2},1032,["class","data-prarm","onClick"])))),128)),(t(!0),n(c,null,r(_.cityList,((s,i)=>(t(),e(g,{class:d("li "+(s.selected&&1==s.selected?"on_chose":"")),"data-prarm":s.id,"data-name":"addrid",onClick:k.intoParam,key:i},{default:a((()=>[l(y(s.typename),1)])),_:2},1032,["class","data-prarm","onClick"])))),128))])),_:1}),s(g,{class:"open_btn a",onClick:k.openDl},{default:a((()=>[s(g,{class:"arr_b"},{default:a((()=>[s(C,{src:_.imgPath+"/info/d_arr.png?v="+_.imgVersion},null,8,["src"])])),_:1})])),_:1},8,["onClick"])])),_:1},8,["class"])])),_:1}),s(g,{class:"dl"},{default:a((()=>[s(g,{class:"dt"},{default:a((()=>[l("保障")])),_:1}),s(g,{class:"dd"},{default:a((()=>[s(g,{class:"ul"},{default:a((()=>[(t(!0),n(c,null,r(_.natureList,((s,i)=>(t(),e(g,{class:d("li "+(s.selected&&1==s.selected?"on_chose":"")),"data-prarm":s.id,"data-name":"nature",onClick:k.intoParam,key:i},{default:a((()=>[l(y(s.name),1)])),_:2},1032,["class","data-prarm","onClick"])))),128))])),_:1})])),_:1})])),_:1}),_.typelistClone.length?(t(),e(g,{key:0,class:"dl"},{default:a((()=>[s(g,{class:"dt"},{default:a((()=>[l("类别")])),_:1}),s(g,{class:"dd"},{default:a((()=>[s(g,{class:"ul"},{default:a((()=>[(t(!0),n(c,null,r(_.typelistClone,((s,i)=>(t(),e(g,{class:d("li "+(s.selected&&1==s.selected?"on_chose":"")),"data-prarm":s.id,"data-name":"typeid",onClick:k.intoParam,key:i},{default:a((()=>[l(y(s.typename),1)])),_:2},1032,["class","data-prarm","onClick"])))),128))])),_:1})])),_:1})])),_:1})):o("",!0)])),_:1}),s(g,{class:"btnsGroup"},{default:a((()=>[s(g,{class:"reset_btn a",onClick:k.resetParam},{default:a((()=>[l("重置")])),_:1},8,["onClick"]),s(g,{class:"confirm_btn a",onClick:k.confirmParam},{default:a((()=>[l("确定")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["style"])])),_:1})}],["__scopeId","data-v-d4d0b40c"]]);export{_ as b};
