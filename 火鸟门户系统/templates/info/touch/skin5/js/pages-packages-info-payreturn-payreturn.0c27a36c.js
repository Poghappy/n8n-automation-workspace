import{$ as a,a0 as e,aa as t,e as o,h as l,o as n,i as s,w as i,l as c,m as p,q as r,t as d,v as f,y as u,F as y,z as m,G as g,x as b,X as _,Y as h,j as C,B as k,k as w,C as D,u as I,A as x}from"./index-6ef16ca3.js";import{_ as $,p as v,r as F,a as T}from"./info.3393217b.js";import{_ as P}from"./popWarn.2421b789.js";var S,j;const A=C();const U=$({name:"pay",props:{payInfo:{type:Object,default:{}},paypopb:{type:Boolean,default:!1},service:{type:String,default:""},action:{type:String,default:""},apply:{type:String,default:""},loginCheck:{type:Boolean,default:!0},extraData:{type:Object,default:{}}},data:()=>({globalData:A.globalData,imgstatic:`${A.globalData.masterDomain}/static/images/miniprograme/payPop/`,imgVersion:A.globalData.imgVersion,payMethods:[{id:0,pay_code:"balance",pay_icon:`${A.globalData.masterDomain}/static/images/miniprograme/payPop/balance.png`,pay_name:"余额"}],userInfo:{},activeIndex:0,formdata:"",timeout:"00:00:00",password:"",popb:!1,popConb:!1,closeb:!1,passwordb:!1,passwordConb:!1,ajaxb:!1,firstb:!0,paySuccessb:!1,platForm:A.globalData.platForm}),mounted(){},methods:{linkTo(e){e&&("web"==A.globalData.platForm?e.indexOf("http")>-1||window.appBoolean?location.href=e:a({url:e}):a({url:e.indexOf("http")>-1?"/pages/redirect/index?url="+encodeURIComponent(e):e}))},async payMethodData(){const a=this;let e=await a.$ajax.post({url:A.encodeUrl("include/ajax.php?"),data:{action:"payment",service:"siteConfig"}});console.log(e.data.info),100==e.data.state?a.userInfo.userid?(a.payMethods=a.payMethods.concat(e.data.info),a.userInfo.money<a.payInfo.order_amount&&(a.activeIndex=1)):a.payMethods=e.data.info:a.$emit("payError",e.data.info)},selectMethod(a,e){const t=this;if("balance"==a.pay_code){if(t.userInfo.money<t.payInfo.order_amount)return!1}else if("huoniao_bonus"==a.pay_code&&t.userInfo.bonus<t.payInfo.order_amount)return!1;t.formdata=a,t.activeIndex=e},closeFn(a){const e=this;e.closeb=!1,e.popConb=!1,setTimeout((a=>{e.popb=!1}),300),e.$emit("paypopb",!1),e.$emit("giveUp",a),clearTimeout(S),clearInterval(j),e.ajaxb||e.paySuccessb||e.certificatePayFn(),e.$emit("failpayFn")},countdown(a){const e=this;let t;10==`${a}`.length&&(t=1e3*a),t=(t-+new Date)/1e3;let o=Math.floor(t%60),l=Math.floor(t%3600/60),n=Math.floor(t/3600);return(o>0||l>0||n>0)&&(n/10<1&&(n="0"+n),l/10<1&&(l="0"+l),o/10<1&&(o="0"+o),S=setTimeout((t=>{e.timeout=e.countdown(a)}),1e3)),n+":"+l+":"+o},payFn(a){const e=this;"balance"==e.payMethods[a].pay_code?(e.passwordb=!0,setTimeout((a=>{e.passwordConb=!0}),0)):e.checkPasswordFn()},closeCodeFn(){const a=this;a.passwordConb=!1,setTimeout((e=>{a.passwordb=!1}),300)},inputCodeFn(a){const e=this;e.password+=a,6==e.password.length&&1==e.userInfo.paypwdCheck&&e.checkPasswordFn()},async setAndPayFn(){const a=this;let e={service:"member",action:"updateAccount",do:"paypwdAdd",pay1:a.password,pay2:a.password};100==(await a.$ajax.post({url:A.encodeUrl("include/ajax.php?"),data:e})).data.state&&(await A.memberInfo(a.userInfo.userid),a.checkPasswordFn()),a.$emit("payError",res.data.info)},certificatePayFn(){const a=this;let e=a.payInfo.ordernum.split(",").length>1?1:"";a.$ajax.post({url:A.encodeUrl(`include/ajax.php?service=member&action=tradePayResult&order=${a.payInfo.ordernum}&type=${e}`)}).then((e=>{100==e.data.state&&(a.paySuccessb=!0,e.data.phone?a.$emit("paySuccess",e.data):a.$emit("paySuccess",e.data.info),a.closeFn(!1),setTimeout((e=>{a.paySuccessb=!1})),A.memberInfo(a.userInfo.userid,(function(e){a.userInfo=e}))),a.ajaxb=!1}))},checkPasswordFn(){const t=this;let o=t.activeIndex,l=t.payMethods[o],n=!1,s={service:t.service,action:t.action,ordernum:t.payInfo.ordernum,paytype:l.pay_code,...t.extraData};if("alipay"==s.paytype||"wxpay"==s.paytype){let o="";for(let a in s)o+=`&${a}=${s[a]}`;if(o=o.slice(1),"web"==t.platForm)window.appBoolean?(n=!0,s.app=1,t.payRequest(s,n)):location.href=`${t.globalData.masterDomain}/include/ajax.php?${o}`;else if("mp-toutiao"==t.platForm){let e=encodeURIComponent(`${t.globalData.masterDomain}/include/ajax.php?${o}`);a({url:`/pages/redirect/index?url=${e}&title=${l.pay_name}`})}else e({title:"支付中",icon:"loading",mask:!0}),t.payRequest(s,n,(function(a){uni.requestPayment({timeStamp:a.data.info.timeStamp,nonceStr:a.data.info.nonceStr,package:a.data.info.package,signType:a.data.info.signType,paySign:decodeURIComponent(a.data.info.paySign),success:a=>{t.certificatePayFn()},fail:a=>{t.$emit("payError","支付失败")}})}))}else"balance"==l.pay_code?(s.useBalance=1,s.balance=t.payInfo.order_amount,s.paypwd=t.password,e({title:"支付中",icon:"loading",mask:!0}),t.payRequest(s,n)):(s.useBalance=0,e({title:"支付中",icon:"loading",mask:!0}),t.payRequest(s,n))},payRequest(a,e,o=function(){}){const l=this;let n=l.activeIndex,s=l.payMethods[n];l.$ajax.post({url:A.encodeUrl("include/ajax.php?"),data:a}).then((a=>{if(t(),100==a.data.state){if(l.closeCodeFn(),e)return window.setupWebViewJavascriptBridge((function(e){e.callHandler("wxpay"==s.pay_code?"wechatPay":"aliPay",{orderInfo:a.data.info},(function(a){}))})),!1;"sponsor"!=l.apply&&"wxpay"!=s.pay_code&&l.$emit("payError","支付成功"),l.closeFn(!1),o(a)}else l.$emit("payError",a.data.info||a.data);l.password=""}))}},watch:{paypopb(a,t){const n=this;if(["{}",'""',"null","undefined"].includes(JSON.stringify(n.payInfo)))return e({title:"订单信息丢失",icon:"error",duration:1500}),!1;if(a){let a=function(){n.popb=!0,setTimeout((()=>{n.popConb=!0})),j=setInterval((a=>{n.ajaxb||(n.ajaxb=!0,n.certificatePayFn())}),1e3)},e=A.globalData.userid;if(n.loginCheck&&!e)return A.tologin(),!1;if(n.firstb?e?(o({title:"用户信息获取中..."}),A.memberInfo(e,(function(e){n.userInfo=e,n.$nextTick((e=>{a()})),l(),n.payMethodData()}))):(n.payMethodData(),n.$nextTick((e=>{a()}))):n.$nextTick((e=>{a()})),n.firstb=!1,n.payInfo.timeout>0){let a=parseInt((new Date).valueOf()/1e3)+1800;n.timeout=n.countdown(a)}}}}},[["render",function(a,e,t,o,l,C){const I=k,x=w,$=D;return l.popb?(n(),s(x,{key:0,class:"payComponents"},{default:i((()=>[c(x,{class:"payContent",style:p(`transform: translateY(${l.popConb?0:"100%"});`)},{default:i((()=>[c(I,{src:`${l.imgstatic}close.png?v=${l.imgVersion}`,mode:"aspectFill",class:"pc-close",onClick:e[0]||(e[0]=a=>l.closeb=!0)},null,8,["src"]),c(x,{style:{position:"relative"}},{default:i((()=>[c(x,{class:"payItemTitle"},{default:i((()=>[r(d(t.payInfo.subject)+"需支付",1)])),_:1}),c(x,{class:"moneyTitle"},{default:i((()=>[c(x,{class:"title"},{default:i((()=>[c($,null,{default:i((()=>[r(d(l.globalData.appConfig.currency?l.globalData.appConfig.currency.symbol:"￥"),1)])),_:1}),r(d(t.payInfo.order_amount),1)])),_:1}),t.payInfo.timeout>0?(n(),s(x,{key:0,class:"time"},{default:i((()=>[r("支付剩余时间："+d(l.timeout),1)])),_:1})):f("",!0)])),_:1}),c(x,{class:"payMethod"},{default:i((()=>[(n(!0),u(y,null,m(l.payMethods,((a,e)=>(n(),s(x,{class:"item",key:e,onClick:g((t=>C.selectMethod(a,e)),["stop"])},{default:i((()=>[c(x,{class:"methodName"},{default:i((()=>[c(I,{src:a.pay_icon,mode:"aspectFill"},null,8,["src"]),c(x,null,{default:i((()=>[c($,null,{default:i((()=>[r(d(a.pay_name),1)])),_:2},1024),"balance"==a.pay_code?(n(),s($,{key:0,style:p("opacity:"+(l.userInfo.money>=t.payInfo.order_amount?1:.6))},{default:i((()=>[r(d(l.userInfo.money>=t.payInfo.order_amount?`（可用：${l.globalData.appConfig.currency?l.globalData.appConfig.currency.symbol:"￥"}${l.userInfo.money||0}）`:`（余额不足，可用余额${l.globalData.appConfig.currency?l.globalData.appConfig.currency.symbol:"￥"}${l.userInfo.money||0}）`),1)])),_:1},8,["style"])):f("",!0),"huoniao_bonus"==a.pay_code?(n(),s($,{key:1,style:p("opacity:"+(l.userInfo.bonus>=t.payInfo.order_amount?1:.6))},{default:i((()=>[r(d(l.userInfo.bonus>=t.payInfo.order_amount?`（可用：${l.globalData.appConfig.currency?l.globalData.appConfig.currency.symbol:"￥"}${l.userInfo.bonus||0}）`:`（余额不足，可用余额${l.globalData.appConfig.currency?l.globalData.appConfig.currency.symbol:"￥"}${l.userInfo.bonus||0}）`),1)])),_:1},8,["style"])):f("",!0)])),_:2},1024)])),_:2},1024),"balance"==a.pay_code&&l.userInfo.money<t.payInfo.order_amount||"huoniao_bonus"==a.pay_code&&l.userInfo.bonus<t.payInfo.order_amount?(n(),s(x,{key:0,class:"recharge",onClick:e=>C.linkTo(`${l.globalData.appConfig.cfg_user_index}/${"balance"==a.pay_code?"deposit":"recharge"}.html?paytype=deposit`)},{default:i((()=>[r(" 充值 ")])),_:2},1032,["onClick"])):(n(),s(x,{key:1,class:b("selectDot"+(l.activeIndex==e?" active":""))},null,8,["class"]))])),_:2},1032,["onClick"])))),128))])),_:1}),c(x,{class:"payNow"},{default:i((()=>[c(x,{onClick:e[1]||(e[1]=a=>C.payFn(l.activeIndex))},{default:i((()=>[r("立即付款")])),_:1})])),_:1})])),_:1})])),_:1},8,["style"]),_(c(x,{class:"closeWarn"},{default:i((()=>[c(x,{class:"cw-content"},{default:i((()=>[c(x,{class:"cwc-title"},{default:i((()=>[r("确定放弃本次付款？")])),_:1}),t.payInfo.timeout>0?(n(),s(x,{key:0,class:"cwc-time"},{default:i((()=>[r(" 您的订单在"+d(l.timeout)+"内未支付将被取消，请尽快完成支付 ",1)])),_:1})):f("",!0),c(x,{class:"cwc-btn"},{default:i((()=>[c(x,{class:"cancel",onClick:e[2]||(e[2]=a=>C.closeFn(!0))},{default:i((()=>[r("放弃")])),_:1}),c(x,{class:"continue",onClick:e[3]||(e[3]=a=>l.closeb=!1)},{default:i((()=>[r("继续支付")])),_:1})])),_:1})])),_:1})])),_:1},512),[[h,l.closeb]]),l.passwordb?(n(),s(x,{key:0,class:"passwordPop"},{default:i((()=>[c(x,{class:"codeAndkey"},{default:i((()=>[c(x,{class:"passwordInput",style:p(`transform: translateY(${l.passwordConb?0:"100%"});${1==l.userInfo.paypwdCheck?"min-height: 880rpx;":"min-height:1040rpx;"}`)},{default:i((()=>[c(I,{src:`${l.imgstatic}arr_back.png?v=${l.imgVersion}`,mode:"aspectFill",class:"cancelPay",onClick:C.closeCodeFn},null,8,["src","onClick"]),c(x,{class:"title"},{default:i((()=>[r("输入支付密码")])),_:1}),c(x,{class:"payInput"},{default:i((()=>[c(x,{class:"text"},{default:i((()=>[r("请"+d(1==l.userInfo.paypwdCheck?"输入":"设置")+"6位数字密码确认支付",1)])),_:1}),c(x,{class:"password"},{default:i((()=>[(n(),u(y,null,m(6,(a=>c(x,{key:a,class:b(a<=l.password.length?"active":"")},{default:i((()=>[c($,null,{default:i((()=>[r("•")])),_:1})])),_:2},1032,["class"]))),64))])),_:1}),1!=l.userInfo.paypwdCheck?(n(),s(x,{key:0,class:"setCode"},{default:i((()=>[c(x,null,{default:i((()=>[r("·避免使用连续或重复数字，类似“123456”“112233”")])),_:1}),c(x,null,{default:i((()=>[r("·避免使用手机号、证件号中的连续数字")])),_:1})])),_:1})):f("",!0),1==l.userInfo.paypwdCheck?(n(),s(x,{key:1,class:"forgetCode",onClick:e[4]||(e[4]=a=>C.linkTo(`${l.globalData.appConfig.cfg_user_index}/security-paypwdEdit.html?step=2&title=修改支付密码`))},{default:i((()=>[r("忘记密码?")])),_:1})):f("",!0)])),_:1}),1!=l.userInfo.paypwdCheck?(n(),u("div",{key:0,class:"confirmPay",onClick:e[5]||(e[5]=(...a)=>C.setAndPayFn&&C.setAndPayFn(...a))},"确定并支付")):f("",!0)])),_:1},8,["style"]),c(x,{class:"keyboard",style:p(`transform: translateY(${l.passwordConb?0:"100%"});`)},{default:i((()=>[c(x,null,{default:i((()=>[c($,{onClick:e[6]||(e[6]=a=>C.inputCodeFn(1))},{default:i((()=>[r("1")])),_:1}),c($,{onClick:e[7]||(e[7]=a=>C.inputCodeFn(2))},{default:i((()=>[r("2")])),_:1}),c($,{onClick:e[8]||(e[8]=a=>C.inputCodeFn(3))},{default:i((()=>[r("3")])),_:1}),c($,{onClick:e[9]||(e[9]=a=>C.inputCodeFn(4))},{default:i((()=>[r("4")])),_:1}),c($,{onClick:e[10]||(e[10]=a=>C.inputCodeFn(5))},{default:i((()=>[r("5")])),_:1}),c($,{onClick:e[11]||(e[11]=a=>C.inputCodeFn(6))},{default:i((()=>[r("6")])),_:1}),c($,{onClick:e[12]||(e[12]=a=>C.inputCodeFn(7))},{default:i((()=>[r("7")])),_:1}),c($,{onClick:e[13]||(e[13]=a=>C.inputCodeFn(8))},{default:i((()=>[r("8")])),_:1}),c($,{onClick:e[14]||(e[14]=a=>C.inputCodeFn(9))},{default:i((()=>[r("9")])),_:1}),c($,{class:"none"}),c($,{onClick:e[15]||(e[15]=a=>C.inputCodeFn(0))},{default:i((()=>[r("0")])),_:1}),c($,{class:"backSpace",style:p(`background: url(${l.imgstatic}del_num.png) no-repeat 50%/60rpx;`),onClick:e[16]||(e[16]=a=>l.password=l.password.slice(0,-1))},null,8,["style"])])),_:1})])),_:1},8,["style"])])),_:1})])),_:1})):f("",!0)])),_:1})):f("",!0)}],["__scopeId","data-v-1a0208f4"]]);var M,N;const B=C();const E=$({data:()=>({globalData:C().globalData,moldConfig:{},mealConfig:{topNormal:[],refreshSmart:[]},pageDetail:{},pageId:"",mold:"info",bgTop:0,refreshActive:0,setTopActive:-1,warningb:!1,info:"",paypopb:!1,payService:"",payAction:"",payExtraData:{},payInfo:{},ajaxb:!1,infoPopb:!1,infoConPopb:!1,firstb:!0,appBoolean:!1,Android:!1,pages:{},biasTop:0}),onLoad(a){switch((M=this).globalData.platForm){case"web":M.appBoolean=window.appBoolean,M.globalData.cityInfo=window.cityInfo;break;case"mp-weixin":M.biasTop=M.globalData.biasTop_88,M.bgTop=M.globalData.navTop+M.biasTop+I(88)}M.pages=B.pageFn(v),"{}"==JSON.stringify(M.moldConfig)&&M.configData();let e={id:a.id||"",ordernum:a.ordernum||""};M.pageId=a.id||"",M.detailData(e),M.getSetTop()},onShow(){M.firstb||M.paypopb||M.info||B.reloadFn(),M.firstb=!1},methods:{async configData(){let a={service:M.mold,action:"config"},e=await M.$ajax.post({url:B.encodeUrl("include/ajax.php?"),data:a});100==e.data.state&&(M.moldConfig=e.data.info,B.wxShareFn({title:M.moldConfig.channelName,description:M.moldConfig.description,imgUrl:M.moldConfig.sharePic,link:""}),M.globalData.moduleConfig[M.mold]=e.data.info)},async detailData(a){let e={service:"info",action:"payreturn",id:a.id,ordernum:a.ordernum},t=await M.$ajax.post({url:B.encodeUrl("include/ajax.php?"),data:e});100==t.data.state&&(M.pageDetail=t.data.info,M.pageId=t.data.info.aid)},async getSetTop(){let a={service:"siteConfig",action:"refreshTopConfig",module:M.mold,act:"detail",userid:M.globalData.userid},e=await M.$ajax.post({url:B.encodeUrl("include/ajax.php?"),data:a});100==e.data.state&&(M.mealConfig=e.data.info.config)},async payOperateFn(a){let e,t=!1,o={};if(M.payExtraData={ordertype:"refreshTop",module:"info",act:"detail",aid:M.pageId,config:"",type:"",final:1},"refresh"==a)o={service:"siteConfig",action:"refreshTop",type:"smartRefresh",module:M.mold,act:"detail",aid:M.pageId,config:M.refreshActive},-1==M.refreshActive?(o.config=0,o.type="refresh"):(t=0==M.mealConfig.refreshSmart[M.refreshActive].price,t&&(e=a=>{M.info=l.data.info,M.infoPopFn(0),M.linkTo(M.pageDetail.manageUrl,!0,!0)})),M.payExtraData.type="refresh",M.payExtraData.config=M.refreshActive;else if("setTop"==a){let a=M.setTopActive;o={service:"siteConfig",action:"refreshTop",type:"topping",module:M.mold,act:"detail",aid:M.pageId,config:a},t=0==M.mealConfig.topNormal[a].price,t&&(e=a=>{M.info=l.data.info,M.infoPopFn(0),M.linkTo(M.pageDetail.manageUrl,!0,!0)}),M.payExtraData.type="topping",M.payExtraData.config=a}M.payAction="refreshTop",M.payService="siteConfig";let l=await M.$ajax.post({url:B.encodeUrl("include/ajax.php?"),data:o});100==l.data.state?(t||(M.payInfo=l.data.info,M.paypopb=!0),e&&e(l)):M.info=l.data.info},linkTo(a,e=!1,t=!1,o=!1){if(t&&!B.loginCheck())return!1;o&&M.appBoolean&&(a=`${M.masterDomain}/${M.mold}`+a),B.linkTo(a,e,!1)},warnFn(a=2e3){M.warningb=!0,clearTimeout(N),N=setTimeout((a=>{M.warningb=!1}),a)},backFn(){B.backFn()},infoPopFn(a){a?(M.infoPopb=!0,setTimeout((a=>{M.infoConPopb=!0}),0)):(M.infoConPopb=!1,setTimeout((a=>{M.infoPopb=!1}),280))},paySuccess(a){M.info="支付成功！",M.infoPopFn(0),setTimeout((a=>{M.linkTo(M.pageDetail.manageUrl,!0,!0)}),1e3)}},watch:{info(a,e){""!=a&&(M.warnFn(),setTimeout((a=>{M.info=""}),2200))},paypopb(a,e){a||(M.setTopActive=-1)}},onPullDownRefresh(){B.reloadFn()},onShareAppMessage:a=>({title:M.moldConfig.channelName,desc:M.moldConfig.description}),onShareTimeline:()=>({title:M.moldConfig.channelName,imageUrl:M.moldConfig.sharePic})},[["render",function(a,e,t,o,l,_){const h=F(x("webTop"),T),C=k,I=w,$=D,v=F(x("popWarn"),P),S=F(x("payBottom"),U);return n(),u(y,null,[c(I,{class:"Shell",style:p(`padding-top:${l.bgTop}px`)},{default:i((()=>["web"!=l.globalData.platForm||l.appBoolean?"mp-weixin"==l.globalData.platForm?(n(),s(I,{key:1,class:"navTop",style:p(`padding-top:calc(${l.globalData.navTop+l.biasTop}px);`)},{default:i((()=>[c(I,{class:"n-back",onClick:_.backFn},{default:i((()=>[c(C,{src:`${l.globalData.masterDomain}/static/images/header_back.png?v=${l.globalData.imgVersion}`,mode:"aspectFit"},null,8,["src"])])),_:1},8,["onClick"])])),_:1},8,["style"])):f("",!0):(n(),s(h,{key:0,title:"",module:l.mold,index:!1},null,8,["module"])),c(I,{class:"payInfo"},{default:i((()=>[c(I,{class:"p-title"},{default:i((()=>[c(C,{src:`${l.globalData.imgPath}/info/confirm.png?v=${l.globalData.imgVersion}`,mode:"aspectFit"},null,8,["src"]),c(I,null,{default:i((()=>[r("发布成功")])),_:1})])),_:1}),c(I,{class:"p-btn"},{default:i((()=>[c(I,{style:{"margin-right":"20rpx"},onClick:e[0]||(e[0]=a=>_.linkTo(l.pageDetail.manageUrl,!0,!0))},{default:i((()=>[r("管理发布")])),_:1}),c(I,{onClick:e[1]||(e[1]=a=>_.linkTo(l.pageDetail.fabuUrl,!0,!0))},{default:i((()=>[r("再发一条")])),_:1})])),_:1})])),_:1}),l.mealConfig.topNormal.length>0&&!l.pageDetail.isbid?(n(),s(I,{key:2,class:"setTop",style:p(`background-image:url(${l.globalData.imgPath}/info/bg_Box.png)`)},{default:i((()=>[c(I,{class:"s-title"},{default:i((()=>[c(I,{class:"st-title"},{default:i((()=>[r("信息置顶")])),_:1}),c(I,{class:"st-tip"},{default:i((()=>[r("增加8-10倍曝光效果！")])),_:1})])),_:1}),c(I,{class:"s-content"},{default:i((()=>[c(I,{class:"sc-title"},{default:i((()=>[r("选择置顶时长")])),_:1}),c(I,{class:"sc-list"},{default:i((()=>[(n(!0),u(y,null,m(l.mealConfig.topNormal,((a,e)=>(n(),s(I,{class:b(["scl-item",{active:l.setTopActive==e}]),key:e,onClick:a=>{l.setTopActive=e,_.payOperateFn("setTop")}},{default:i((()=>[a.price>0?(n(),s(I,{key:0,class:"price"},{default:i((()=>[r("￥"),c($,null,{default:i((()=>[r(d(Number(a.price)),1)])),_:2},1024)])),_:2},1024)):(n(),s(I,{key:1,class:"price"},{default:i((()=>[c($,null,{default:i((()=>[r("免费")])),_:1})])),_:1})),c(I,{class:"time"},{default:i((()=>[r("置顶"+d(a.day)+"天",1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1},8,["style"])):f("",!0),c(I,{class:"moreItem"},{default:i((()=>[c(I,{class:"m-title"},{default:i((()=>[r("更多推广神器")])),_:1}),c(I,{class:"m-item",onClick:e[2]||(e[2]=a=>_.linkTo(l.pageDetail.rewardUrl,!0,!0))},{default:i((()=>[c(C,{src:`${l.globalData.imgPath}/info/redEnvelope.png?v=${l.globalData.imgVersion}`,mode:"aspectFill",class:"mi-icon"},null,8,["src"]),c(I,{class:"mi-info"},{default:i((()=>[c(I,{class:"mii-left"},{default:i((()=>[c(I,{class:"title"},{default:i((()=>[r("阅读红包")])),_:1}),c(I,{class:"tip"},{default:i((()=>[r("设置红包激发用户阅读与分享欲望")])),_:1})])),_:1}),c(I,{class:"mii-btn"},{default:i((()=>[r("立即设置")])),_:1})])),_:1})])),_:1}),c(I,{class:"m-item",onClick:e[3]||(e[3]=a=>_.linkTo(l.pageDetail.rewardUrl,!0,!0))},{default:i((()=>[c(C,{src:`${l.globalData.imgPath}/info/redGift.png?v=${l.globalData.imgVersion}`,mode:"aspectFill",class:"mi-icon"},null,8,["src"]),c(I,{class:"mi-info"},{default:i((()=>[c(I,{class:"mii-left"},{default:i((()=>[c(I,{class:"title"},{default:i((()=>[r("分享有奖")])),_:1}),c(I,{class:"tip"},{default:i((()=>[r("设置分享奖励，转发传播率飞升的秘诀")])),_:1})])),_:1}),c(I,{class:"mii-btn"},{default:i((()=>[r("立即设置")])),_:1})])),_:1})])),_:1}),l.mealConfig.refreshSmart.length>0?(n(),s(I,{key:0,class:"m-item",onClick:e[4]||(e[4]=a=>_.infoPopFn(1))},{default:i((()=>[c(C,{src:`${l.globalData.imgPath}/info/redAi.png?v=${l.globalData.imgVersion}`,mode:"aspectFill",class:"mi-icon"},null,8,["src"]),c(I,{class:"mi-info"},{default:i((()=>[c(I,{class:"mii-left"},{default:i((()=>[c(I,{class:"title"},{default:i((()=>[r("智能刷新")])),_:1}),c(I,{class:"tip"},{default:i((()=>[r("定时自动刷新，智能稳定曝光")])),_:1})])),_:1}),c(I,{class:"mii-btn"},{default:i((()=>[r("立即设置")])),_:1})])),_:1})])),_:1})):f("",!0)])),_:1}),l.infoPopb?(n(),s(I,{key:3,class:"infoPop",onClick:e[10]||(e[10]=a=>_.infoPopFn(0))},{default:i((()=>[c(I,{class:"i-refresh",onClick:e[9]||(e[9]=g((()=>{}),["stop"])),style:p(l.infoConPopb?"transform:translateY(-20rpx);opacity:1":"transform:translateY(0px);opacity:0")},{default:i((()=>[c(I,{class:"ir-title"},{default:i((()=>[c($,{class:"title"},{default:i((()=>[r("智能刷新")])),_:1}),c($,{class:"tip"},{default:i((()=>[r("智能定时刷新，效果更明显！")])),_:1})])),_:1}),c(I,{class:"ir-options"},{default:i((()=>[c(I,{class:"iro-list",onTouchmove:e[6]||(e[6]=g((()=>{}),["stop"])),onTouch:e[7]||(e[7]=g((()=>{}),["stop"]))},{default:i((()=>[(n(!0),u(y,null,m(l.mealConfig.refreshSmart,((a,e)=>(n(),s(I,{class:b(["item",{active:e==l.refreshActive}]),key:e,onClick:a=>l.refreshActive=e},{default:i((()=>[c(I,{class:"left"},{default:i((()=>[c($,{class:"times"},{default:i((()=>[r(d(a.day)+"天"+d(a.times)+"次",1)])),_:2},1024),a.offer>0?(n(),s($,{key:0,class:"money"},{default:i((()=>[r("省"+d(l.globalData.appConfig.currency.symbol)+d(Number(a.offer)),1)])),_:2},1024)):f("",!0)])),_:2},1024),c(I,{class:"right"},{default:i((()=>[a.price>0?(n(),u(y,{key:0},[r(d(l.globalData.appConfig.currency.symbol),1),c($,null,{default:i((()=>[r(d(Number(a.price)),1)])),_:2},1024)],64)):(n(),s($,{key:1},{default:i((()=>[r("免费")])),_:1}))])),_:2},1024)])),_:2},1032,["class","onClick"])))),128)),c(I,{class:b(["item",{active:-1==l.refreshActive}]),onClick:e[5]||(e[5]=a=>l.refreshActive=-1)},{default:i((()=>[c(I,{class:"left"},{default:i((()=>[c($,{class:"times"},{default:i((()=>[r("或立即刷新1次")])),_:1})])),_:1}),c(I,{class:"right"},{default:i((()=>[r(d(l.globalData.appConfig.currency.symbol),1),c($,null,{default:i((()=>[r(d(Number(l.mealConfig.refreshNormalPrice)),1)])),_:1})])),_:1})])),_:1},8,["class"])])),_:1}),c(I,{class:"iro-tip",style:p("opacity:"+(-1==l.refreshActive?"0":"1"))},{default:i((()=>[r(" 已选择"+d(-1!=l.refreshActive?l.mealConfig.refreshSmart[l.refreshActive].day:"x")+"天智能刷新套餐",1),c($,null,{default:i((()=>[r("稳定曝光")])),_:1})])),_:1},8,["style"]),c(I,{class:"iro-btn",onClick:e[8]||(e[8]=a=>_.payOperateFn("refresh"))},{default:i((()=>[r("立即购买")])),_:1})])),_:1})])),_:1},8,["style"])])),_:1})):f("",!0)])),_:1},8,["style"]),c(v,{info:l.info,warningb:l.warningb},null,8,["info","warningb"]),c(S,{service:l.payService,action:l.payAction,extraData:l.payExtraData,payInfo:l.payInfo,paypopb:l.paypopb,loginCheck:!0,onPaypopb:e[11]||(e[11]=a=>l.paypopb=!1),onPayError:e[12]||(e[12]=a=>{l.info=a}),onPaySuccess:_.paySuccess},null,8,["service","action","extraData","payInfo","paypopb","onPaySuccess"])],64)}],["__scopeId","data-v-365011b0"]]);export{E as default};
