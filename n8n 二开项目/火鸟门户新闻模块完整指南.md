# ğŸ”¥ ç«é¸Ÿé—¨æˆ·æ–°é—»æ¨¡å—å®Œæ•´æŒ‡å—

> **é€‚ç”¨ç‰ˆæœ¬**ï¼šHuoNiaoCMS v8.xï¼ˆhawaiihub.net å½“å‰éƒ¨ç½²ï¼‰  
> **æ›´æ–°æ—¶é—´**ï¼š2025-01-20  
> **ç”¨é€”**ï¼šæœ¬åœ°è°ƒè¯• / n8n å·¥ä½œæµ / é‡‡é›†ä¸å‘å¸ƒè‡ªåŠ¨åŒ–  
> **è®¤è¯æ–¹å¼**ï¼šæ¶‰åŠå†™å…¥/ä¿®æ”¹/åˆ é™¤/è¯„è®ºçš„æ¥å£éœ€è¦ç™»å½• Cookieï¼ˆ`PHPSESSID=...`ï¼‰

## ğŸ“ æ›´æ–°è®°å½•
- [2025-01-20] åˆå¹¶æ•°æ®åº“å­—å…¸æ–°é—»æ¨¡å—å†…å®¹ï¼Œå½¢æˆå®Œæ•´æŒ‡å—

---

## ğŸ”§ ä½¿ç”¨å‰å‡†å¤‡

### ç¯å¢ƒå˜é‡è®¾ç½®
```bash
# ç™»å½•åå°æˆ–å‰å°åï¼Œä»æµè§ˆå™¨å¤åˆ¶ PHPSESSID
export HNSESS="PHPSESSID=ä½ çš„sessionå€¼"
```

### ğŸ“‹ ç³»ç»Ÿé…ç½®ä¿¡æ¯

#### ğŸŒ æœåŠ¡å™¨é…ç½®
- **ä¸»è¦APIåœ°å€**: `https://hawaiihub.net/include/ajax.php`
- **æ–°ç‰ˆAPIå¤„ç†å™¨**: `https://hawaiihub.net/api/handlers/article.class.php`
- **æœåŠ¡å™¨IP**: 154.40.47.153
- **ç³»ç»Ÿç‰ˆæœ¬**: HuoNiaoCMS v8.6 Release
- **PHPç‰ˆæœ¬**: 7.4.33
- **æ•°æ®åº“**: MySQL 5.7.44

#### ğŸ“‚ æ–°é—»åˆ†ç±»é…ç½®
| åˆ†ç±»ID | åˆ†ç±»åç§° | ç”¨é€”è¯´æ˜ |
|--------|----------|----------|
| **1** | ç§‘æŠ€èµ„è®¯ | ç§‘æŠ€ã€AIã€äº’è”ç½‘æ–°é—» |
| **2** | æœ¬åœ°æ–°é—» | å¤å¨å¤·æœ¬åœ°æ–°é—»ã€ç¤¾åŒºåŠ¨æ€ |
| **3** | ç”Ÿæ´»èµ„è®¯ | ç”Ÿæ´»æœåŠ¡ã€å®ç”¨ä¿¡æ¯ |

#### ğŸ‘¤ ç³»ç»Ÿç”¨æˆ·é…ç½®
- **åŸå¸‚ID**: 1 (å¤å¨å¤·)
- **ç®¡ç†å‘˜ID**: 1 (admin)
- **å®¡æ ¸çŠ¶æ€**: 1 (å·²å®¡æ ¸)

---

## ğŸ“– åŸºç¡€è¯´æ˜

### API è°ƒç”¨è§„èŒƒ
- **åŸºå€ï¼ˆBase URLï¼‰**ï¼š`https://hawaiihub.net/include/ajax.php`
- **è°ƒç”¨æ–¹å¼**ï¼š`GET`ï¼ˆæŸ¥è¯¢ç±»ï¼‰ / `POST`ï¼ˆå†™å…¥ç±»ï¼‰
- **å¿…å¤‡å‚æ•°**ï¼š`service=article` + `action=<æ–¹æ³•å>`
- **é‰´æƒï¼ˆAuthï¼‰**ï¼šç™»å½•åæºå¸¦ `Cookie: PHPSESSID=<ä½ çš„ä¼šè¯>`ï¼ˆéå…¬å¼€æ¥å£ï¼‰
- **åˆ†é¡µ**ï¼š`page` ä» 1 å¼€å§‹ï¼Œ`pageSize` é»˜è®¤ 10
- **æ’åºï¼ˆorderbyï¼‰**ï¼š
  - `1`=æŒ‰å‘å¸ƒæ—¶é—´ï¼›`2`=æ€»æµè§ˆé‡ï¼›`2.1/2.2/2.3/2.4`=ä»Šæ—¥/æ˜¨æ—¥/æœ¬å‘¨/æœ¬æœˆæµè§ˆé‡
  - `3`=éšæœºï¼›`4.1/4.2/4.3/4.4`=ä»Šæ—¥/æ˜¨æ—¥/æœ¬å‘¨/æœ¬æœˆè¯„è®ºçƒ­åº¦

### çŠ¶æ€ç ä¸è¿”å›æ ¼å¼
- ç»Ÿä¸€è¿”å›ï¼š`{ state: <int>, info: <æ•°æ®æˆ–é”™è¯¯å­—ç¬¦ä¸²> }`
- `100`=æˆåŠŸï¼›`102`=æ— æ•°æ®ï¼ˆ`"No data!"`ï¼‰ï¼›`200`=é”™è¯¯ï¼›`101`=æƒé™/æ ¡éªŒå¤±è´¥

### å¸¸ç”¨ç­›é€‰å‚æ•°
- `typeid` åˆ†ç±»IDï¼Œ`title` æ ‡é¢˜æ¨¡ç³Šï¼Œ`notid` æ’é™¤IDï¼Œ`cityid` åŸå¸‚ï¼Œ`litpic/thumb` æ˜¯å¦æœ‰å›¾
- `flag=h,r,b,t,p`ï¼ˆå¤´æ¡/æ¨è/åŠ ç²—/ç½®é¡¶/å›¾ç‰‡ï¼‰ï¼Œå¯å¤šå€¼é€—å·åˆ†éš”ï¼Œå¦‚ `flag=h,p`

### ç½‘å…³ä¸å®‰å…¨è¿‡æ»¤
- **RSA è§£å¯†**ï¼šé•¿åº¦ 172 æˆ–åŒ…å« `||rsa||` çš„å€¼è‡ªåŠ¨è§£å¯†
- **ID å¼ºåˆ¶æ•°å€¼åŒ–**ï¼š`id/cityid/sid/state` è¢«è½¬æ¢ä¸ºä»…é€—å·åˆ†éš”çš„æ•°å­—åºåˆ—ï¼ˆé˜²æ³¨å…¥ï¼‰
- **XSS æ¸…ç†**ï¼šé”®åä¸å­—ç¬¦ä¸²å€¼ç»Ÿä¸€åš `RemoveXSS(...)`

---

## ğŸ“‹ åŸºç¡€ä¿¡æ¯æŸ¥è¯¢ï¼ˆREAD æ“ä½œï¼‰

### 1. è·å–æ–°é—»æ¨¡å—åŸºç¡€é…ç½®
```bash
curl "https://hawaiihub.net/include/ajax.php?service=article&action=config"
```

**è¿”å›å‚æ•°ä¿¡æ¯**ï¼š
- `channelName` æ¨¡å—åç§°
- `logoUrl` logoåœ°å€
- `subDomain` è®¿é—®æ–¹å¼ï¼ˆ0ï¼šä¸»åŸŸå 1ï¼šå­åŸŸå 2ï¼šå­ç›®å½•ï¼‰
- `channelDomain` ç»‘å®šçš„åŸŸå
- `channelSwitch` æ¨¡å—å¼€å…³ï¼ˆ0ï¼šå¯ç”¨ 1ï¼šç¦ç”¨ï¼‰
- `title/keywords/description` SEOä¿¡æ¯
- `hotline` å’¨è¯¢çƒ­çº¿
- `atlasMax` å›¾é›†æ•°é‡é™åˆ¶
- `template` é£æ ¼æ¨¡æ¿
- `softSize/thumbSize/atlasSize` å„ç±»æ–‡ä»¶ä¸Šä¼ é™åˆ¶

### 2. è·å–åŸå¸‚åˆ—è¡¨
```bash
curl "https://hawaiihub.net/include/ajax.php?service=article&action=city"
```

### 3. è·å–æ–°é—»åˆ†ç±»åˆ—è¡¨
```bash
# è·å–æ‰€æœ‰åˆ†ç±»ï¼ˆåŒ…å«å­çº§ï¼‰
curl "https://hawaiihub.net/include/ajax.php?service=article&action=type&son=1"

# æŒ‰å†…å®¹å½¢æ€è¿‡æ»¤ï¼ˆmoldï¼š0=å›¾æ–‡ï¼Œ1=å›¾é›†ï¼Œ2=è§†é¢‘ï¼‰
curl "https://hawaiihub.net/include/ajax.php?service=article&action=type&mold=0&son=1"

# åˆ†é¡µè·å–
curl "https://hawaiihub.net/include/ajax.php?service=article&action=type&mold=0&page=1&pageSize=50"
```

**å‚æ•°è¯´æ˜**ï¼š
- `mold`ï¼šåˆ†ç±»æ¨¡å‹ï¼ˆæ•°å­—ï¼›é€šå¸¸ä¼  0 æˆ–æŒ‰ç«™ç‚¹çº¦å®šï¼‰
- `type`ï¼šçˆ¶çº§IDï¼ˆ0 ä¸ºé¡¶çº§ï¼‰
- `son`ï¼šæ˜¯å¦åŒ…å«å­çº§ï¼ˆ1=æ˜¯ï¼Œ0=å¦ï¼‰
- `page`ï¼Œ`pageSize`ï¼šåˆ†é¡µå‚æ•°

### 4. è·å–æŒ‡å®šåˆ†ç±»è¯¦ç»†ä¿¡æ¯
```bash
curl "https://hawaiihub.net/include/ajax.php?service=article&action=typeDetail&id=1"
```

### 5. è·å–æ–°é—»åˆ—è¡¨

#### åŸºç¡€æŸ¥è¯¢
```bash
curl "https://hawaiihub.net/include/ajax.php?service=article&action=alist&page=1&pageSize=10"
```

#### é«˜çº§ç­›é€‰
```bash
curl "https://hawaiihub.net/include/ajax.php?service=article&action=alist&typeid=1&title=æµ‹è¯•&flag=r&thumb=1&orderby=1&state=1&page=1&pageSize=5"
```

#### æŸ¥è¯¢å‚æ•°è¡¨
| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `mold` | int | åˆ†ç±»æ¨¡å‹ï¼ˆä¸æ ç›®æ¨¡å‹å…³è”ï¼‰ |
| `typeid` | int/CSV | åˆ†ç±»IDï¼ˆæ”¯æŒé€—å·å¤šä¸ªï¼‰ |
| `notid` | int/CSV | æ’é™¤çš„èµ„è®¯ID |
| `title` | string | æ ‡é¢˜å…³é”®è¯ï¼ˆæ¨¡ç³Šï¼‰ |
| `flag` | string | è‡ªå®šä¹‰å±æ€§ï¼Œ`h,r,b,t,p` å¤šå€¼é€—å· |
| `thumb`/`litpic` | int/bool | æ˜¯å¦è¦æ±‚æœ‰å°é¢å›¾ |
| `orderby` | string | æ’åºï¼ˆè§åŸºç¡€è¯´æ˜ï¼‰ |
| `u` | int | `1` ä»…å½“å‰ç™»å½•äººçš„ç¨¿ä»¶ï¼›å¦åˆ™å–å…¬å¼€ç¨¿ä»¶ |
| `uid` | int | æŒ‡å®šä¼šå‘˜IDçš„ç¨¿ä»¶ |
| `state` | int | ç®¡ç†ç«¯è¿‡æ»¤ `arcrank`ï¼ˆä»… `u=1` æ—¶æœ‰æ•ˆï¼‰ |
| `page`/`pageSize` | int | åˆ†é¡µï¼Œä» 1 å¼€å§‹ |
| `media` | string | `is`=æœ‰åª’ä½“å·ï¼›`no`=æ— åª’ä½“å·ï¼›æˆ–ä¼ å…·ä½“ `media` ID |
| `cityid` | int | åŸå¸‚ID |

### 6. è·å–æ–°é—»è¯¦ç»†ä¿¡æ¯
```bash
curl "https://hawaiihub.net/include/ajax.php?service=article&action=detail&id=10086"
```

**è¿”å›å­—æ®µ**ï¼š
`id,title,cityid,subtitle,flag,redirecturl,litpic,litpicSource,source,sourceurl,writer,typeid,admin,prop,article_prop,admin_nickname,keywords,keywordsList,description,color,click,arcrank,pubdate,body,mbody,imglist,videotype,videotype_,videourl,realVideoUrl,videotime,video_hour,video_minute,video_second`

### 7. è·å–æ–°é—»è¯„è®ºåˆ—è¡¨
```bash
curl "https://hawaiihub.net/include/ajax.php?service=article&action=common&newsid=1&page=1&pageSize=10"
```

---

## ğŸš€ æ–°ç‰ˆAPIå¤„ç†å™¨è°ƒç”¨ï¼ˆæ¨èï¼‰

### å‘å¸ƒæ–°é—»ï¼ˆæ¨èæ–¹å¼ï¼‰
```bash
curl -X POST "https://hawaiihub.net/api/handlers/article.class.php" \
  -H "Content-Type: application/json" \
  -d '{
    "service": "article",
    "action": "add",
    "param": {
      "cityid": 1,
      "typeid": 1,
      "title": "é€šè¿‡æ–°ç‰ˆAPIå‘å¸ƒçš„æ–°é—»",
      "body": "è¿™æ˜¯é€šè¿‡æ–°ç‰ˆAPIå¤„ç†å™¨å‘å¸ƒçš„æ–°é—»å†…å®¹",
      "writer": "APIæµ‹è¯•",
      "source": "ç«é¸ŸAPI",
      "keywords": "API,æµ‹è¯•,æ–°é—»",
      "description": "æ–°ç‰ˆAPIæµ‹è¯•æ–°é—»æè¿°",
      "admin": 1,
      "arcrank": 1,
      "pubdate": 1640995200
    }
  }'
```

### è·å–æ–°é—»åˆ—è¡¨ï¼ˆæ–°ç‰ˆAPIï¼‰
```bash
curl -X POST "https://hawaiihub.net/api/handlers/article.class.php" \
  -H "Content-Type: application/json" \
  -d '{
    "service": "article",
    "action": "list",
    "param": {
      "page": 1,
      "pageSize": 10,
      "typeid": 1
    }
  }'
```

---

## âœï¸ å†…å®¹ç®¡ç†ï¼ˆCREATE/UPDATE/DELETE æ“ä½œï¼‰

**æ³¨æ„ï¼šä»¥ä¸‹æ“ä½œéœ€è¦ç™»å½•ä¼šè¯ï¼Œè¯·å…ˆè·å– PHPSESSID**

### ğŸ“ å‘å¸ƒæ–°é—»ï¼ˆPUTï¼‰

#### å‘å¸ƒå‚æ•°è¯¦è§£
**å¿…å¡«æ ¡éªŒ**ï¼š`cityid`ã€`title`ã€`typeid`ã€`writer`  
**å†…å®¹è¦æ±‚**ï¼š
- `mold=0`ï¼ˆå›¾æ–‡ï¼‰éœ€è¦ `body`
- `mold=1`ï¼ˆå›¾é›†ï¼‰éœ€è¦ `imglist`
- `mold=2`ï¼ˆè§†é¢‘ï¼‰éœ€è¦ `video` æˆ– `videourl`

**å¯é€‰å‚æ•°**ï¼š`keywords`ã€`description`ã€`litpic`ã€`source`ã€`sourceurl`ã€`flag`ã€`pubdate`ã€`arcrank`ï¼ˆçŠ¶æ€ï¼‰ç­‰

#### A) å›¾æ–‡å‘å¸ƒ
```bash
curl -X POST "https://hawaiihub.net/include/ajax.php?service=article&action=put" \
  -H "Cookie: $HNSESS" \
  -d "cityid=1" \
  -d "typeid=1" \
  -d "mold=0" \
  -d "title=API å‘å¸ƒæµ‹è¯•ï¼šå›¾æ–‡" \
  -d "writer=HawaiiHub Bot" \
  -d "source=HawaiiHub" \
  -d "sourceurl=https://hawaiihub.net/" \
  -d "keywords=å¤å¨å¤·,æ–°é—»" \
  -d "description=è¿™æ˜¯é€šè¿‡APIå‘å¸ƒçš„æµ‹è¯•å›¾æ–‡æ–°é—»" \
  -d "litpic=https://hawaiihub.net/static/cover.jpg" \
  -d "body=<p>æ­£æ–‡HTMLå†…å®¹</p>"
```

#### B) å›¾é›†å‘å¸ƒ
```bash
curl -X POST "https://hawaiihub.net/include/ajax.php?service=article&action=put" \
  -H "Cookie: $HNSESS" \
  -d "cityid=1&typeid=1&mold=1" \
  -d "title=API å‘å¸ƒæµ‹è¯•ï¼šå›¾é›†" \
  -d "writer=HawaiiHub Bot" \
  -d "imglist=https://a.com/1.jpg,https://a.com/2.jpg,https://a.com/3.jpg" \
  -d "description=å›¾é›†è¯´æ˜æ–‡å­—"
```

#### C) è§†é¢‘å‘å¸ƒ
```bash
curl -X POST "https://hawaiihub.net/include/ajax.php?service=article&action=put" \
  -H "Cookie: $HNSESS" \
  -d "cityid=1&typeid=1&mold=2&videotype=1" \
  -d "title=API å‘å¸ƒæµ‹è¯•ï¼šè§†é¢‘" \
  -d "writer=HawaiiHub Bot" \
  -d "videourl=https://video.example.com/abc.mp4" \
  -d "litpic=https://hawaiihub.net/static/video-cover.jpg" \
  -d "description=è§†é¢‘ç®€ä»‹"
```

### âœï¸ ä¿®æ”¹æ–°é—»ï¼ˆEDITï¼‰
```bash
curl -X POST "https://hawaiihub.net/include/ajax.php?service=article&action=edit" \
  -H "Cookie: $HNSESS" \
  -d "id=12345" \
  -d "title=æ ‡é¢˜ä¿®è®¢ç‰ˆ" \
  -d "description=æ›´æ–°åçš„æ‘˜è¦" \
  -d "arcrank=1"
```

### ğŸ—‘ï¸ åˆ é™¤æ–°é—»ï¼ˆDELETEï¼‰
```bash
curl -X POST "https://hawaiihub.net/include/ajax.php?service=article&action=del" \
  -H "Cookie: $HNSESS" \
  -d "id=12345"
```

### ğŸ’¬ è¯„è®ºç®¡ç†

#### å‘è¡¨è¯„è®º
```bash
curl -X POST "https://hawaiihub.net/include/ajax.php?service=article&action=sendCommon" \
  -H "Cookie: $HNSESS" \
  -d "aid=12345" \
  -d "content=è¿™æ˜¯æ¥è‡ªAPIçš„è¯„è®º"
```

**å‚æ•°è¯´æ˜**ï¼š
- `aid`ï¼šæ–‡ç« IDï¼ˆå¿…å¡«ï¼‰
- `content`ï¼šè¯„è®ºå†…å®¹ï¼ˆå¿…å¡«ï¼‰
- `id`ï¼šå›å¤æŸæ¡è¯„è®ºçš„IDï¼ˆå¯é€‰ï¼‰

---

## ğŸ—„ï¸ æ•°æ®åº“å­—å…¸

### æ ¸å¿ƒè¡¨ç»“æ„

#### huoniao_articlelist ï¼ˆæ–°é—»ä¿¡æ¯ä¸»è¡¨ï¼‰
| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | å…è®¸éç©º | è‡ªåŠ¨é€’å¢ | å¤‡æ³¨ |
|---|---|---:|---:|---:|---|
| id | mediumint(8) unsigned |  | NO | æ˜¯ | æ–°é—»IDï¼ˆä¸»é”®ï¼‰ |
| cityid | smallint(5) unsigned | 0 | NO |  | åŸå¸‚ID |
| title | char(60) |  | NO |  | ä¿¡æ¯æ ‡é¢˜ |
| subtitle | char(36) |  | NO |  | çŸ­æ ‡é¢˜ |
| flag | set('h','r','b','p','t') |  | NO |  | é™„åŠ å±æ€§ï¼ˆå¤´æ¡/æ¨è/åŠ ç²—/å›¾ç‰‡/ç½®é¡¶ï¼‰ |
| redirecturl | varchar(255) |  | YES |  | è·³è½¬åœ°å€ |
| weight | smallint(4) unsigned | 1 | NO |  | æ’åº |
| litpic | char(255) |  | YES |  | ç¼©ç•¥å›¾ |
| source | char(30) |  | NO |  | æ¥æº |
| sourceurl | char(200) |  | NO |  | æ¥æºç½‘å€ |
| writer | char(20) |  | NO |  | ä½œè€… |
| typeid | int(5) unsigned | 0 | NO |  | åˆ†ç±»ID |
| keywords | char(50) |  | NO |  | å…³é”®å­— |
| description | varchar(255) |  | NO |  | æè¿° |
| mbody | text |  | NO |  | æ‰‹æœºç«¯å†…å®¹ |
| notpost | tinyint(1) unsigned | 0 | NO |  | è¯„è®ºå¼€å…³ |
| click | int(8) unsigned | 0 | NO |  | é˜…è¯»æ¬¡æ•° |
| color | char(7) |  | NO |  | æ ‡é¢˜é¢œè‰² |
| arcrank | tinyint(1) unsigned | 0 | NO |  | ä¿¡æ¯çŠ¶æ€ |
| pubdate | int(10) unsigned | 0 | NO |  | åˆ›å»ºæ—¶é—´ |
| admin | int(8) unsigned | 0 | NO |  | å‘å¸ƒäºº |
| del | tinyint(1) unsigned | 0 | NO |  | æ˜¯å¦å·²åˆ é™¤ |
| waitpay | tinyint(1) unsigned | 0 | NO |  | ç­‰å¾…æ”¯ä»˜ |
| alonepay | tinyint(1) unsigned | 0 | NO |  | å•ç‹¬æ”¯ä»˜ |
| audit_log | text |  | NO |  | å®¡æ ¸è®°å½• |
| audit_state | char(20) |  | NO |  | å®¡æ ¸çŠ¶æ€ |
| audit_edit | text |  | NO |  | å®¡æ ¸ä¿®æ”¹è®°å½• |
| reward_switch | tinyint(1) unsigned | 0 | NO |  | æ‰“èµå¼€å…³ |
| zan | int(6) unsigned | 0 | NO |  | èµ |
| videotype | tinyint(1) unsigned | 0 | NO |  | è§†é¢‘ç±»å‹ |
| videourl | varchar(255) |  | NO |  | è§†é¢‘åœ°å€ |
| media_state | tinyint(1) unsigned | 1 | NO |  | è‡ªåª’ä½“è´¦å·çŠ¶æ€ |
| typeset | tinyint(1) unsigned | 0 | NO |  | æ’ç‰ˆæ–¹å¼ 0å°å›¾ 1å¤§å›¾ |
| zhuanti | int(10) unsigned | 0 | NO |  | ä¸“é¢˜ id |
| media | int(10) unsigned | 0 | NO |  | åª’ä½“å· id |

#### huoniao_article ï¼ˆæ–°é—»å†…å®¹ï¼‰
| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | å…è®¸éç©º | è‡ªåŠ¨é€’å¢ | å¤‡æ³¨ |
|---|---|---:|---:|---:|---|
| id | int(10) unsigned |  | NO | æ˜¯ |  |
| aid | int(10) unsigned |  | NO |  | ä¿¡æ¯ID |
| body | mediumtext |  | NO |  | ä¿¡æ¯å†…å®¹ |

#### huoniao_articlecommon ï¼ˆæ–°é—»è¯„è®ºï¼‰
| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | å…è®¸éç©º | è‡ªåŠ¨é€’å¢ | å¤‡æ³¨ |
|---|---|---:|---:|---:|---|
| id | int(10) unsigned |  | NO | æ˜¯ |  |
| aid | int(8) unsigned | 0 | NO |  | ä¿¡æ¯ID |
| floor | int(8) unsigned | 0 | NO |  | æ¥¼å±‚ |
| userid | int(8) unsigned | 0 | NO |  | ä¼šå‘˜ID |
| content | char(255) |  | NO |  | è¯„è®ºå†…å®¹ |
| dtime | int(10) |  | NO |  | è¯„è®ºæ—¶é—´ |
| ip | char(15) |  | NO |  | è¯„è®ºIP |
| ipaddr | char(30) |  | NO |  | IPå½’å±åœ° |
| good | int(8) unsigned | 0 | NO |  | é¡¶ |
| bad | int(8) unsigned | 0 | NO |  | è¸© |
| ischeck | smallint(1) unsigned | 0 | NO |  | çŠ¶æ€ |
| duser | text |  | NO |  | é¡¶è¿‡çš„ä¼šå‘˜ |

#### huoniao_articlepic ï¼ˆæ–°é—»å›¾é›†ï¼‰
| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | å…è®¸éç©º | è‡ªåŠ¨é€’å¢ | å¤‡æ³¨ |
|---|---|---:|---:|---:|---|
| id | int(8) unsigned |  | NO | æ˜¯ |  |
| aid | int(8) unsigned |  | NO |  | ä¿¡æ¯ID |
| picPath | varchar(255) |  | NO |  | å›¾ç‰‡è·¯å¾„ |
| piclnfo | text |  | YES |  | å›¾ç‰‡æ³¨é‡Š |

### è‡ªåª’ä½“ç›¸å…³è¡¨

#### huoniao_article_selfmedia ï¼ˆæ–°é—»è‡ªåª’ä½“ï¼‰
| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | å…è®¸éç©º | è‡ªåŠ¨é€’å¢ | å¤‡æ³¨ |
|---|---|---:|---:|---:|---|
| id | int(10) unsigned |  | NO | æ˜¯ |  |
| cityid | int(10) | 0 | NO |  | åŸå¸‚ |
| userid | int(10) unsigned | 0 | NO |  | ç”¨æˆ· id |
| type | int(1) unsigned | 0 | NO |  | å…¥é©»ç±»å‹ |
| ac_name | varchar(15) |  | NO |  | è‡ªåª’ä½“åç§° |
| ac_profile | varchar(40) |  | NO |  | è‡ªåª’ä½“ä»‹ç» |
| ac_field | int(2) unsigned | 0 | NO |  | è‡ªåª’ä½“é¢†åŸŸ |
| ac_addrid | int(10) unsigned | 0 | NO |  | è‡ªåª’ä½“æ‰€åœ¨åœ° |
| ac_photo | varchar(255) |  | NO |  | å¤´åƒ |
| op_name | varchar(20) |  | NO |  | è¿è¥è€…å§“å |
| op_phone | varchar(13) |  | NO |  | è¿è¥è€…è”ç³»ç”µè¯ |
| op_email | varchar(30) |  | NO |  | è¿è¥è€…è”ç³»é‚®ç®± |
| state | int(1) unsigned | 0 | NO |  | çŠ¶æ€ |
| pubdate | int(10) | 0 | NO |  | å…¥é©»æ—¶é—´ |
| click | int(10) | 0 | NO |  | æµè§ˆæ¬¡æ•° |
| weight | int(10) | 0 | NO |  | æ’åº |

### ä¸“é¢˜ç›¸å…³è¡¨

#### huoniao_article_zhuanti ï¼ˆæ–°é—»ä¸“é¢˜ï¼‰
| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | å…è®¸éç©º | è‡ªåŠ¨é€’å¢ | å¤‡æ³¨ |
|---|---|---:|---:|---:|---|
| id | smallint(5) |  | NO | æ˜¯ |  |
| parentid | int(10) unsigned | 0 | NO |  | çˆ¶çº§ id |
| typename | char(200) |  | NO |  | åˆ†ç±»åç§° |
| description | varchar(255) |  | NO |  | SEO æè¿° |
| weight | smallint(5) unsigned | 50 | NO |  | æ’åº |
| pubdate | int(10) | 0 | NO |  | åˆ›å»ºæ—¶é—´ |
| state | tinyint(1) | 0 | NO |  | çŠ¶æ€ |
| flag_r | tinyint(1) | 0 | NO |  | æ¨è |
| flag_h | tinyint(1) | 0 | NO |  | å¤´æ¡ |
| litpic | char(100) |  | NO |  | å›¾ç‰‡ |
| click | int(10) | 0 | NO |  | æµè§ˆæ¬¡æ•° |
| typeid | int(10) unsigned | 0 | NO |  | åˆ†ç±» id |

#### huoniao_article_zhuantilist ï¼ˆæ–°é—»ä¸“é¢˜æ–‡ç« ï¼‰
| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | å…è®¸éç©º | è‡ªåŠ¨é€’å¢ | å¤‡æ³¨ |
|---|---|---:|---:|---:|---|
| id | int(10) unsigned |  | NO | æ˜¯ |  |
| aid | int(10) unsigned | 0 | NO |  | ä¿¡æ¯ id |
| typeid | int(10) unsigned | 0 | NO |  | ä¸“é¢˜åˆ†ç±» id |

### ç¼“å­˜å’Œç»Ÿè®¡è¡¨

#### huoniao_article_historyclick ï¼ˆèµ„è®¯æµè§ˆè¶³è¿¹ï¼‰
| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | å…è®¸éç©º | è‡ªåŠ¨é€’å¢ | å¤‡æ³¨ |
|---|---|---:|---:|---:|---|
| id | int(11) |  | NO | æ˜¯ |  |
| uid | int(10) | 0 | NO |  | æµè§ˆè€… id |
| fuid | int(10) | 0 | NO |  | å‘å¸ƒè€… id |
| aid | int(10) | 0 | NO |  | ä¿¡æ¯ id |
| module | varchar(255) |  | NO |  | æ¨¡å— |
| module2 | varchar(255) |  | NO |  | äºŒçº§ç±»ç›® |
| date | char(20) |  | NO |  | æ—¶é—´ |

#### huoniao_article_pagecount_cache ï¼ˆèµ„è®¯åˆ—è¡¨ count ç¼“å­˜è¡¨ï¼‰
| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | å…è®¸éç©º | è‡ªåŠ¨é€’å¢ | å¤‡æ³¨ |
|---|---|---:|---:|---:|---|
| id | int(11) |  | NO | æ˜¯ |  |
| `key` | text |  | YES |  | ç¼“å­˜é”® |
| value | int(30) |  | YES |  | ç¼“å­˜å€¼ |
| update_at | int(30) |  | YES |  | æ›´æ–°æ—¶é—´æˆ³ |

---

## ğŸ› ï¸ å¼€å‘å»ºè®®

### 1. é”™è¯¯å¤„ç†
- å§‹ç»ˆæ£€æŸ¥è¿”å›çš„ `state` å­—æ®µ
- `state=100` è¡¨ç¤ºæˆåŠŸï¼Œå…¶ä»–å€¼éœ€è¦å¤„ç†é”™è¯¯
- è®°å½• `info` å­—æ®µä¸­çš„é”™è¯¯ä¿¡æ¯

### 2. å®‰å…¨å»ºè®®
- ä½¿ç”¨ HTTPS è¿›è¡Œæ‰€æœ‰ API è°ƒç”¨
- å¦¥å–„ä¿ç®¡ PHPSESSIDï¼Œé¿å…æ³„éœ²
- å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œé€‚å½“çš„éªŒè¯å’Œæ¸…ç†

### 3. æ€§èƒ½ä¼˜åŒ–
- åˆç†è®¾ç½® `pageSize`ï¼Œé¿å…ä¸€æ¬¡è·å–è¿‡å¤šæ•°æ®
- ä½¿ç”¨é€‚å½“çš„ç¼“å­˜ç­–ç•¥
- é¿å…é¢‘ç¹çš„ API è°ƒç”¨

### 4. n8n å·¥ä½œæµé›†æˆ
- ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨æ•æ„Ÿä¿¡æ¯
- å®ç°é€‚å½“çš„é‡è¯•æœºåˆ¶
- æ·»åŠ æ—¥å¿—è®°å½•ç”¨äºè°ƒè¯•

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **å®˜æ–¹ç½‘ç«™**ï¼šhttps://hawaiihub.net
- **æŠ€æœ¯æ–‡æ¡£**ï¼šå‚è€ƒç«é¸Ÿé—¨æˆ·ç³»ç»Ÿå®˜æ–¹æ–‡æ¡£
- **å¼€å‘è€…**ï¼šè‹å·é…·æ›¼è½¯ä»¶æŠ€æœ¯æœ‰é™å…¬å¸

---

*æœ€åæ›´æ–°ï¼š2025-01-20*