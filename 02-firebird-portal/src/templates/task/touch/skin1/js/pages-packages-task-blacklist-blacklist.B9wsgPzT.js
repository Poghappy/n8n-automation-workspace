import{a,P as t,i as e,j as o,h as l,b as s,d as i,e as n,r,k as d,o as p,l as c,w as h,m as u,q as m,A as g,t as k,v as b,y as f,F as w,x,B as v,G as D,C as _}from"./index-cF6skFzP.js";import{r as C,_ as y}from"./uni-app.es.J1otcSEF.js";import{_ as B}from"./_plugin-vue_export-helper.BCo6x5W8.js";let j=u();var F;const S=B({data:()=>({wh:j.globalData.navTop+j.globalData.appFullWh,masterDomain:j.globalData.masterDomain,biasTop_88:j.globalData.biasTop_88,appBack:j.globalData.appBack,loadingb:!1,privateb:!1,imgurl:j.globalData.imgPath+"/task/",listdata:null,themedata:{},page:1,pageSize:10,imgVersion:"",platForm:j.globalData.platForm,appFullWh:j.globalData.appFullWh}),onLoad(a){F=this,-1==j.globalData.wxprivate?j.watchG("wxprivate",(function(t){F.wxprivate=t,t?F.privateb=!0:F.onload(a)})):j.globalData.wxprivate?F.privateb=!0:F.onload(a)},onReady(){},onShow(){},onHide(){},onUnload(){},onPullDownRefresh(){j.reloadFn()},onReachBottom(){this.$ajax.post({url:"include/ajax.php?"+j.encodeUrl("service=task&action=blackList"),data:{page:++this.page,pageSize:this.pageSize}}).then((a=>{100==a.data.state&&(F.listdata=this.listdata.concat(a.data.info.list),F.loadingb=!(a.data.info.list.length<this.pageSize))}))},onShareAppMessage(a){return{title:this.themedata.title,imageUrl:this.themedata.sharePic,path:"/pages/packages/task/my/my"}},onShareTimeline(){return{title:this.themedata.title,imageUrl:this.themedata.sharePic,path:"/pages/packages/task/my/my"}},methods:{onload(i){a({title:"加载中",mask:!0,success:()=>{t({key:"warnColor",success:a=>{t({key:"warnColor",success:a=>{F.themedata=a.data.themeDate,F.setBgColor(this.themedata.themeBackgroundColor),a.data.outtime<Date.parse(new Date)&&e({key:"warnColor",success:()=>{F.$ajax.post({url:"include/ajax.php?service=task&action=config"}).then((a=>{null!=a.data.info.themeBackgroundColor?(F.themedata=a.data.info,o({key:"warnColor",data:{themeDate:this.themedata,outtime:Date.parse(new Date)+36e5}}),F.setBgColor(this.themedata.themeBackgroundColor),l()):(l(),s({title:"服务器出错",icon:"error",mask:!0,duration:5e3}))}))}})}}),l()},fail:a=>{F.$ajax.post({url:"include/ajax.php?service=task&action=config"}).then((a=>{null!=a.data.info.themeBackgroundColor?(F.themedata=a.data.info,o({key:"warnColor",data:{themeDate:this.themedata,outtime:Date.parse(new Date)+36e5}}),F.setBgColor(this.themedata.themeBackgroundColor),l()):(l(),s({title:"服务器出错",icon:"error",mask:!0,duration:5e3}))}))}})}}),F.$ajax.post({url:"include/ajax.php?"+j.encodeUrl("service=task&action=blackList"),data:{page:1,pageSize:this.pageSize}}).then((a=>{100==a.data.state&&(F.listdata=a.data.info.list,F.loadingb=!(a.data.info.list.length<this.pageSize))}))},backFn(){if(F.appBoolean)return window.setupWebViewJavascriptBridge((function(a){a.callHandler("goBack",{},(function(a){}))})),!1;{let a=i();a&&a.length>1?n({delta:1}):"web"==F.platForm?location.href=`${F.masterDomain}${window.pathname}${F.pages.index}`:r({url:"/pages/packages/task/index/index"})}},setBgColor(a){"web"!=F.platForm&&uni.setBackgroundColor({backgroundColor:a,fail:a=>{console.log(a)}})}}},[["render",function(a,t,e,o,l,s){const i=m,n=_,r=C(d("private_tip"),y);return p(),c(i,{style:{height:"100%"}},{default:h((()=>[l.appBack?(p(),g(w,{key:0},[k(i,{style:b("height:"+l.wh+"px;background-color: "+l.themedata.themeBackgroundColor+";position: sticky;top: 0rpx;z-index: 99;padding-bottom: 88rpx;"),catchtouchmove:""},null,8,["style"]),k(i,{class:"rec-title",style:b("background-color: "+l.themedata.themeBackgroundColor+";top: "+(l.wh+l.biasTop_88)+"px;")},{default:h((()=>[k(n,{src:l.imgurl+"bl-arrow.png?v="+l.imgVersion,onClick:s.backFn,mode:"aspectFill"},null,8,["src","onClick"]),k(i,null,{default:h((()=>[f("黑名单中心")])),_:1})])),_:1},8,["style"])],64)):x("",!0),k(i,{class:"titleList"},{default:h((()=>[f("平台违规用户列表")])),_:1}),(p(!0),g(w,null,v(l.listdata,((a,t)=>(p(),c(i,{class:"userData",key:t},{default:h((()=>[k(i,{class:"u-name"},{default:h((()=>[k(i,{class:"un-name"},{default:h((()=>[f(D(a.nickname),1)])),_:2},1024),k(i,{class:"un-id"},{default:h((()=>[f("ID:"+D(a.uid),1)])),_:2},1024)])),_:2},1024),k(i,{class:"u-reason"},{default:h((()=>[f("违规原因："+D(a.type),1)])),_:2},1024),k(i,{class:"u-solve"},{default:h((()=>[f("违规处理："+D(a.auth),1)])),_:2},1024),k(i,{class:"u-time"},{default:h((()=>[f("恢复时间："+D(a.expired),1)])),_:2},1024)])),_:2},1024)))),128)),k(i,{class:"loadingtext"},{default:h((()=>[f(D(l.loadingb?"加载中...":"没有更多咯~"),1)])),_:1}),k(r,{privateShow:l.privateb},null,8,["privateShow"])])),_:1})}],["__scopeId","data-v-7baa9bf9"]]);export{S as default};
