import{c as t,a7 as e,f as a,d as s,e as l,r as i,n as d,s as n,R as o,p,h as r,J as c,Z as u,k as f,o as m,l as h,w as g,m as v,q as k,x as y,A as _,t as b,v as x,y as C,G as F,F as w,B as j,H as D,C as V,D as $,I as S,a4 as T,a5 as B,W as I,z as P,a as O,P as E,i as M,j as N,b as J,X as z}from"./index-cF6skFzP.js";import{_ as U}from"./previewMedia.C3gYMXHd.js";import{r as q,_ as A}from"./uni-app.es.J1otcSEF.js";import{p as H}from"./public_pay.CFacMRuw.js";import{p as L}from"./task.9CwFAmAC.js";import{_ as W}from"./_plugin-vue_export-helper.BCo6x5W8.js";var R;let G=v();const K=W({components:{paypop:H},data:()=>({globalData:G.globalData,wh:G.globalData.navTop+G.globalData.appFullWh,bottomh:0,masterDomain:G.globalData.masterDomain,biasTop_88:G.globalData.biasTop_88,appBack:G.globalData.appBack,userError:G.globalData.userError,imgurl:G.globalData.imgPath+"/task/",themedata:{},typedata:null,payInfo:{},helpdata:{},projectdata:{},stepb:!1,privateb:!1,warningb:!1,timeb:!1,timepopb:!1,paybackb:!1,payplateb:!1,showPayPop:!1,stepchangeb:!1,configb:!1,tj_timeb:!1,pickerb:!1,delb:!1,ajaxb:!1,previewb:!1,staticSrc:[],typeActive:0,timesActive:0,steps:1,stepdata:[],addstep:[{id:1,title:"网址链接",imgsrc:G.globalData.imgPath+"/task/weburl.png",step:1,type:"website"},{id:2,title:"二维码",imgsrc:G.globalData.imgPath+"/task/code.png",step:2,type:"qr"},{id:3,title:"复制数据",imgsrc:G.globalData.imgPath+"/task/rank.png",step:3,type:"copy"},{id:4,title:"图文说明",imgsrc:G.globalData.imgPath+"/task/image.png",step:4,type:"image"},{id:5,title:"文字说明",imgsrc:G.globalData.imgPath+"/task/explainW.png",step:5,type:"text"},{id:6,title:"视频说明",imgsrc:G.globalData.imgPath+"/task/videoW.png",step:6,type:"video"},{id:7,title:"收集视频",imgsrc:G.globalData.imgPath+"/task/upvideoW.png",step:7,type:"save-video"},{id:8,title:"收集截图",imgsrc:G.globalData.imgPath+"/task/cutimg.png",step:8,type:"save-image"},{id:9,title:"收集信息",imgsrc:G.globalData.imgPath+"/task/computer.png",step:9,type:"save-text"}],times:[{id:1,title:"每人1次",number:0},{id:2,title:"每天1次",number:1},{id:3,title:"每人3次",number:2}],time:[{id:1,title:"30分钟",minutes:30},{id:2,title:"1小时",minutes:60},{id:3,title:"2小时",minutes:120},{id:4,title:"3小时",minutes:180},{id:5,title:"4小时",minutes:240},{id:6,title:"5小时",minutes:300},{id:7,title:"6小时",minutes:360},{id:8,title:"12小时",minutes:720},{id:9,title:"24小时",minutes:1440},{id:10,title:"2天",minutes:2880},{id:11,title:"3天",minutes:4320}],info:null,state:{},hadtime:{tj_time:{time:60,value:[1]},sh_time:{time:720,value:[7]}},pretime:{tj_time:{time:60,value:[1]},sh_time:{time:720,value:[7]}},formdata:{number:0,price:0,quota:0,tj_time:60,sh_time:720,steps:[],name:"",project:"",title:"",js_began_time:"",js_end_time:"",times:"",video:""},oid:null,price:null,count:null,sumprice:0,popstep:null,userphoto:null,total:0,imgVersion:null,tid:"",typesteps:null,config:!1,note:"",value:"",iosMiniHide:!1,pages:"",platForm:G.globalData.platForm,appBoolean:G.globalData.appBoolean,channelDomain:G.globalData.channelDomain,appFullScreen:G.globalData.appFullScreen}),onLoad(t){R=this,-1==G.globalData.wxprivate?G.watchG("wxprivate",(function(e){R.wxprivate=e,e?R.privateb=!0:R.onload(t)})):G.globalData.wxprivate?R.privateb=!0:R.onload(t)},onReady(){let e=t();1==this.steps?setTimeout((()=>{e.select(".so-next").boundingClientRect(),e.exec((t=>{R.bottomh=t[0].height}))}),0):3==this.steps&&setTimeout((()=>{e.select(".st-btn").boundingClientRect(),e.exec((t=>{R.bottomh=t[0].height}))}),0)},onUnload(){e("publishData")},onShareAppMessage(t){return{title:this.themedata.title,imageUrl:this.themedata.sharePic,path:"/pages/packages/task/my/my"}},onShareTimeline(){return{title:this.themedata.title,imageUrl:this.themedata.sharePic,path:"/pages/packages/task/my/my"}},methods:{onload(t){R.checkiOSMini(),t.clear&&e("publishData");let s=a("publishData");s&&(R.formdata=JSON.parse(s.formdata),R.price=s.price,R.count=s.count,R.imgVersion=G.globalData.imgVersion,R.typesteps=s.typestep,t.step=s.step);var l=G.globalData.userid;if(null==l||""==l)return G.loginCheck(`${R.pages.publish}?step=1&clear=1`),!1;if(O({title:"加载中",mask:!0,success:()=>{E({key:"warnColor",success:t=>{E({key:"warnColor",success:t=>{R.themedata=t.data.themeDate,R.setBgColor(this.themedata.themeBackgroundColor),t.data.outtime<Date.parse(new Date)&&M({key:"warnColor",success:()=>{R.$ajax.post({url:"include/ajax.php?service=task&action=config"}).then((t=>{null!=t.data.info.themeBackgroundColor?(R.themedata=t.data.info,N({key:"warnColor",data:{themeDate:this.themedata,outtime:Date.parse(new Date)+36e5}}),R.setBgColor(this.themedata.themeBackgroundColor),r()):(r(),J({title:"服务器出错",icon:"error",mask:!0,duration:5e3}))}))}})}}),r()},fail:t=>{R.$ajax.post({url:"include/ajax.php?service=task&action=config"}).then((t=>{null!=t.data.info.themeBackgroundColor?(R.themedata=t.data.info,N({key:"warnColor",data:{themeDate:this.themedata,outtime:Date.parse(new Date)+36e5}}),R.setBgColor(this.themedata.themeBackgroundColor),r()):(r(),J({title:"服务器出错",icon:"error",mask:!0,duration:5e3}))}))}})}}),R.steps=t.step,1==this.steps){var i="service=task&action=type",d=G.encodeUrl(i);R.$ajax.post({url:"include/ajax.php?"+d}).then((t=>{if(200==t.data.state)return this.backFn(),!1;this.formdata.typeid=t.data.info[0].id,this.formdata.name=t.data.info[0].title,R.typedata=t.data.info,R.formdata=this.formdata}))}if(R.$ajax.post({url:"include/ajax.php?"+G.encodeUrl("service=task&action=config")}).then((t=>{t.data.info.helpLink2=G.addUrlParam(t.data.info.helpLink2),t.data.info.helpLink3=G.addUrlParam(t.data.info.helpLink3),R.helpdata=t.data.info})),t.change?(R.$ajax.post({url:"include/ajax.php?"+G.encodeUrl("service=task&action=detail"),data:{id:t.oid}}).then((e=>{this.formdata={steps:[],note:e.data.info.note,video:e.data.info.video},e.data.info.steps.map(((t,e)=>{switch(`${t.type}`){case"website":this.stepdata[e]={step:1,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value};break;case"qr":this.stepdata[e]={step:2,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value};break;case"copy":this.stepdata[e]={step:3,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value};break;case"image":this.stepdata[e]={step:4,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value};break;case"text":this.stepdata[e]={step:5,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value.split("<br/>").join("\n")};break;case"video":this.stepdata[e]={step:6,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value};break;case"save-video":this.stepdata[e]={step:7,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value};break;case"save-image":this.stepdata[e]={step:8,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value};break;case"save-text":this.stepdata[e]={step:9,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value}}})),R.stepdata=this.stepdata,R.steps=t.step,R.$ajax.post({url:"include/ajax.php?"+G.encodeUrl("service=task&action=type")}).then((t=>{for(let a=0;a<t.data.info.length;a++)if(t.data.info[a].id==e.data.info.typeid){R.typesteps=t.data.info[a].fabuParam;break}for(let e=0;e<this.addstep.length;e++){let t=!0;for(let a=0;a<this.typesteps.length;a++)if(this.addstep[e].type==this.typesteps[a]){this.typesteps.splice(a,1),t=!1;break}t&&(this.addstep.splice(e,1),--e)}R.addstep=this.addstep}))})),R.stepchangeb=!0,R.oid=t.oid):t.config&&R.$ajax.post({url:"include/ajax.php?"+G.encodeUrl("service=task&action=detail"),data:{id:t.oid}}).then((e=>{let a=e.data.info;this.formdata={tj_time:a.tj_time,sh_time:a.sh_time,project:a.project,title:a.title,times:0==a.number?"每人1次":1==a.number?"每天1次":"每人3次"},a.js_began_time&&a.js_end_time&&(this.formdata.js_began_time=a.js_began_time,this.formdata.js_end_time=a.js_end_time),R.oid=t.oid,R.formdata=this.formdata,R.configb=!0})),R.$ajax.post({url:"include/ajax.php?"+G.encodeUrl("service=task&action=memberInfo")}).then((t=>{R.userphoto=t.data.info.photo})),t.tid){R.tid=t.tid;i="service=task&action=detail&id="+this.tid,d=G.encodeUrl(i);R.$ajax.post({url:"include/ajax.php?"+d}).then((t=>{for(let e=0;e<t.data.info.steps.length;e++)"save-text"!=t.data.info.steps[e].type&&(t.data.info.steps[e].value=t.data.info.steps[e].value.split("<br/>").join("\n")),t.data.info.steps[e].note=t.data.info.steps[e].note.split("<br/>").join("\n");if(R.projectdata=t.data.info,1==this.steps){this.formdata.project=t.data.info.project;for(let e=0;e<this.typedata.length;e++)if(this.typedata[e].id==t.data.info.typeid){this.formdata.name=this.typedata[e].typename,this.formdata.typeid=this.typedata[e].id,R.typeActive=e;break}}else 2==this.steps?(this.formdata.title=t.data.info.title,this.formdata.price=t.data.info.mprice,this.formdata.quota=t.data.info.quota,R.sumprice=(this.formdata.quota*this.formdata.price).toFixed(2),this.timesActive=t.data.info.number):(this.formdata.note=t.data.info.note,this.formdata.video=t.data.info.video,this.formdata.steps=[],t.data.info.steps.map(((t,e)=>{switch(`${t.type}`){case"website":this.stepdata[e]={step:1,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value};break;case"qr":this.stepdata[e]={step:2,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value};break;case"copy":this.stepdata[e]={step:3,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value};break;case"image":this.stepdata[e]={step:4,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value};break;case"text":this.stepdata[e]={step:5,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value};break;case"video":this.stepdata[e]={step:6,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value};break;case"save-video":this.stepdata[e]={step:7,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value};break;case"save-image":this.stepdata[e]={step:8,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value};break;case"save-text":this.stepdata[e]={step:9,save:!0},this.formdata.steps[e]={type:t.type,note:t.note,value:t.value}}})),R.stepdata=this.stepdata,R.formdata=this.formdata)}))}if(3==this.steps){for(let t=0;t<this.addstep.length;t++){let e=!0;for(let a=0;a<this.typesteps.length;a++)if(this.addstep[t].type==this.typesteps[a]){this.typesteps.splice(a,1),e=!1;break}e&&(this.addstep.splice(t,1),--t)}R.addstep=this.addstep}R.pages=G.pageFn(L),"web"==R.platForm&&(window.onbeforeunload=function(t){return!0})},backFn(){if(R.appBoolean)return window.setupWebViewJavascriptBridge((function(t){t.callHandler("goBack",{},(function(t){}))})),!1;{let t=s();t&&t.length>1?l({delta:1}):"web"==R.platForm?location.href=`${R.masterDomain}${window.pathname}${R.pages.index}`:i({url:"/pages/packages/task/index/index"})}},linkTo(t){if(t)if("web"==R.platForm){if(window.appBoolean)return window.setupWebViewJavascriptBridge((function(e){e.callHandler("redirectNative",{name:"",code:"",link:t},(function(){}))})),!1;t.indexOf("http")>-1?location.href=t:d({url:t})}else{if(t.includes("tomini")){let e=t.split("?")[1].split("&");for(let a=0;a<e.length;a++)if(e[a].includes("tomini")){t=e[a].replace("tomini=",""),e.splice(a,1);break}t+=`?${e.join("&")}`}d({url:t.indexOf("http")>-1?"/pages/redirect/index?url="+encodeURIComponent(t):t})}},setBgColor(t){"web"!=R.platForm&&uni.setBackgroundColor({backgroundColor:t,fail:t=>{console.log(t)}})},nextFn(){let t=this.steps;if(1==t)if(this.formdata.project||this.warningb){let e=this.typedata,a=this.typeActive,s={step:++t,formdata:JSON.stringify(this.formdata),price:e[a].price,count:e[a].count,tid:this.tid||"",typestep:e[a].fabuParam};n("publishData",s),R.linkTo(`${R.appBoolean?channelDomain:""}${R.pages.publish}?tid=${R.tid}&${R.appFullScreen}`)}else R.info="亲，项目名忘记写啦",this.warningFn();else if(2==t){let e=this.formdata.price,a=this.formdata.quota;if(this.formdata.title&&!(this.formdata.title.length<5)||this.warningb)if((0==e||Number(e)<this.price)&&!this.warningb)R.info=`任务单价至少是${this.price}${this.globalData.appConfig.currency?this.globalData.appConfig.currency.short:"元"}`,this.warningFn();else if((0==a||Number(a)<this.count)&&!this.warningb)R.info=`任务名额至少是${this.count}个`,this.warningFn();else if(this.warningb||0!=this.formdata.sh_time&&0!=this.formdata.tj_time){if(!this.warningb){let e={step:++t,formdata:JSON.stringify(this.formdata),tid:this.tid||"",typestep:this.typesteps};n("publishData",e),R.linkTo(`${R.appBoolean?R.channelDomain:""}${R.pages.publish}?tid=${R.tid}&${R.appFullScreen}`)}}else R.info=(0==this.formdata.sh_time?"审核":"提交")+"时间选择失败，请重新选择",this.warningFn();else R.info="任务标题至少填5个字",this.warningFn()}},pronameFn(t){let e=t.detail.value;if(1==this.steps)this.formdata.project=e,R.formdata=this.formdata;else if(1==t.currentTarget.dataset.title)this.formdata.title=e,R.formdata=this.formdata;else if(1==t.currentTarget.dataset.price){let t=/^[0-9]*\.[0-9]{1,2}$/,a=/^[0-9]*$/;(/^[0-9]*\.$/.test(e)||t.test(e)||a.test(e))&&(this.formdata.price=e),R.formdata=this.formdata,R.sumprice=(this.formdata.quota*this.formdata.price).toFixed(2)}else if(1==t.currentTarget.dataset.quota){!/^[+]{0,1}(\d+)$/.test(e)&&e||(this.formdata.quota=e),R.formdata=this.formdata,R.sumprice=(this.formdata.quota*this.formdata.price).toFixed(2)}},selectFn(t){if(1==this.steps){let e=this.typedata[t].id,a=this.typedata[t].title;this.formdata.typeid=e,this.formdata.name=a,this.typeActive=t}else{let e=t;this.formdata.number=e,this.timesActive=t}},limitFn(t){if(0==this.timeb)this.timeb=!0,this.state=t.currentTarget.dataset,setTimeout((()=>{this.timepopb=!0}),0);else if(1==this.state.submit){let e=t.detail.value[0];this.hadtime.tj_time.time=this.time[e].minutes,this.hadtime.tj_time.value=[e],this.tj_timeb=!0,this.pickerb=!1}else{let e=t.detail.value[0];this.hadtime.sh_time.time=this.time[e].minutes,this.hadtime.sh_time.value=[e],this.tj_timeb=!1,this.pickerb=!1}},colseFn(t){1!=t.currentTarget.dataset.cancel?(this.tj_timeb?(this.formdata.tj_time=this.hadtime.tj_time.time,this.pretime.tj_time.value=this.hadtime.tj_time.value,this.pretime.tj_time.time=this.hadtime.tj_time.time):(this.formdata.sh_time=this.hadtime.sh_time.time,this.pretime.sh_time.value=this.hadtime.sh_time.value,this.pretime.sh_time.time=this.hadtime.sh_time.time),this.formdata=this.formdata,this.hadtime=this.hadtime,this.pretime=this.pretime):(this.tj_timeb?(this.hadtime.tj_time.value=JSON.parse(JSON.stringify(this.pretime.tj_time.value)),this.hadtime.tj_time.time=JSON.parse(JSON.stringify(this.pretime.tj_time.time))):(this.hadtime.sh_time.value=JSON.parse(JSON.stringify(this.pretime.sh_time.value)),this.hadtime.sh_time.time=JSON.parse(JSON.stringify(this.pretime.sh_time.time))),this.hadtime=this.hadtime),this.timepopb=!1,setTimeout((()=>{this.timeb=!1}),200)},picstartFn(){R.pickerb=!0},getlimitFn(t){let e=t.detail.value;this.formdata.note=e},videoFn(t){if(1!=t.currentTarget.dataset.delete){let t={mod:"task",type:"video",filetype:"video",utype:"video"};this.$ajax.upMedia({seFile:!0,type:"video",formData:t}).then((t=>{let e=JSON.parse(t.data);this.formdata.video=e.turl,R.formdata=this.formdata}))}else this.formdata.video=null,R.formdata=this.formdata},previewMediaFn(t){"mp-weixin"==R.platForm?uni.previewMedia({sources:[{type:t.type,url:t.value}]}):t.type.includes("image")?o({urls:[t.value]}):(this.previewb=!0,this.staticSrc[0]={type:"video",value:t.value})},addFn(e){let a=e.currentTarget.dataset.step;a||1==e.currentTarget.dataset.blank?!a&&1==e.currentTarget.dataset.blank&&this.stepb?R.stepb=!1:a&&(this.stepdata.push({step:a,save:!1,edit:!1,note:"",value:""}),this.formdata.steps.push({}),R.stepb=!1,R.stepdata=this.stepdata,R.formdata=this.formdata,R.$nextTick((e=>{let a=t();a.select(".sts-steps").boundingClientRect(),a.exec((t=>{p({scrollTop:t[0].height,duration:200})}))}))):R.stepb=!this.stepb},delstepFn(t){let e=t.currentTarget.dataset.del,a=t.currentTarget.dataset.confirm,s=t.currentTarget.dataset.giveup,l=t.currentTarget.dataset.index;if(e)R.delb=!0,R.popstep=l+1;else if(s)this.stepdata[l].edit?(this.stepdata[l].note||this.stepdata[l].value?(this.formdata.steps[l].note=this.stepdata[l].note,this.formdata.steps[l].value=this.stepdata[l].value):(this.stepdata[l].note=this.formdata.steps[l].note,this.stepdata[l].value=this.formdata.steps[l].value),this.stepdata[l].save=!0):(this.stepdata.splice(l,1),this.formdata.steps.splice(l,1)),R.stepdata=this.stepdata,R.formdata=this.formdata;else{let t=this.popstep-1;a&&(this.stepdata.splice(t,1),this.formdata.steps.splice(t,1),R.stepdata=this.stepdata,R.formdata=this.formdata),R.delb=!1}},savstepFn(t){let e=t.currentTarget.dataset.index,a=t.currentTarget.dataset.step,s=t.currentTarget.dataset.statement,l=t.currentTarget.dataset.save;switch(a){case 1:if(1==l){let t=this.formdata.steps[e].note;this.formdata.steps[e].value&&t||this.warningb?this.warningb||(this.stepdata[e].edit&&(this.stepdata[e].note=this.formdata.steps[e],this.stepdata[e].value=this.formdata.steps[e].value),this.formdata.steps[e].type="website",this.stepdata[e].save=!0,R.stepdata=this.stepdata,R.formdata=this.formdata):(R.info="请先完成步骤中的内容",this.warningFn())}else 1==s?(this.stepdata[e].edit||(this.stepdata[e].note=t.detail.value),this.formdata.steps[e].note=t.detail.value):(this.stepdata[e].edit||(this.stepdata[e].value=t.detail.value),this.formdata.steps[e].value=t.detail.value);break;case 2:if(1==l){let t=this.formdata.steps[e];this.formdata.steps[e].value&&t||this.warningb?this.warningb||(this.stepdata[e].edit&&(this.stepdata[e].note=this.formdata.steps[e],this.stepdata[e].value=this.formdata.steps[e].value),this.formdata.steps[e].type="qr",this.stepdata[e].save=!0,R.stepdata=this.stepdata,R.formdata=this.formdata):(R.info="请先完成步骤中的内容",this.warningFn())}else if(1==s)this.stepdata[e].edit||(this.stepdata[e].note=t.detail.value),this.formdata.steps[e].note=t.detail.value;else if(1!=t.currentTarget.dataset.delete){let t={mod:"task",type:"atlas"};this.$ajax.upMedia({seFile:!0,type:"image",formData:t,upConfig:{count:1}}).then((t=>{let a=JSON.parse(t[0].data);"SUCCESS"!=a.state?(R.info=a.state,r(),this.warningFn()):(this.stepdata[e].edit||(this.stepdata[e].value=a.turl),this.formdata.steps[e].value=a.turl,R.formdata=this.formdata,r())}))}else this.formdata.steps[e].value="",R.formdata=this.formdata;break;case 3:if(1==l){let t=this.formdata.steps[e];this.formdata.steps[e].value&&t||this.warningb?this.warningb||(this.stepdata[e].edit&&(this.stepdata[e].note=this.formdata.steps[e].note,this.stepdata[e].value=this.formdata.steps[e].value),this.formdata.steps[e].type="copy",this.stepdata[e].save=!0,R.stepdata=this.stepdata,R.formdata=this.formdata):(R.info="请先完成步骤中的内容",this.warningFn())}else 1==s?(this.stepdata[e].edit||(this.stepdata[e].note=t.detail.value),this.formdata.steps[e].note=t.detail.value):(this.stepdata[e].edit||(this.stepdata[e].value=t.detail.value),this.formdata.steps[e].value=t.detail.value);break;case 4:if(1==l){let t=this.formdata.steps[e];this.formdata.steps[e].value&&t||this.warningb?this.warningb||(this.stepdata[e].edit&&(this.stepdata[e].note=this.formdata.steps[e].note,this.stepdata[e].value=this.formdata.steps[e].value),this.formdata.steps[e].type="image",this.stepdata[e].save=!0,R.stepdata=this.stepdata,R.formdata=this.formdata):(R.info="请先完成步骤中的内容",this.warningFn())}else if(1==s)this.stepdata[e].edit||(this.stepdata[e].note=t.detail.value),this.formdata.steps[e].note=t.detail.value;else if(1!=t.currentTarget.dataset.delete){let t={mod:"task",type:"atlas"};this.$ajax.upMedia({seFile:!0,type:"image",formData:t,upConfig:{count:1}}).then((t=>{let a=JSON.parse(t[0].data);"SUCCESS"!=a.state?(R.info=a.state,r(),this.warningFn()):(this.stepdata[e].edit||(this.stepdata[e].value=a.turl),this.formdata.steps[e].value=a.turl,R.formdata=this.formdata,r())}))}else this.formdata.steps[e].value="",R.formdata=this.formdata;break;case 5:if(1==l){let t=this.formdata.steps[e];this.formdata.steps[e].value&&t||this.warningb?this.warningb||(this.stepdata[e].edit&&(this.stepdata[e].note=this.formdata.steps[e].note,this.stepdata[e].value=this.formdata.steps[e].value),this.formdata.steps[e].type="text",this.stepdata[e].save=!0,R.stepdata=this.stepdata,R.formdata=this.formdata):(R.info="请先完成步骤中的内容",this.warningFn())}else 1==s?(this.stepdata[e].edit||(this.stepdata[e].note=t.detail.value),this.formdata.steps[e].note=t.detail.value):(this.stepdata[e].edit||(this.stepdata[e].value=t.detail.value),this.formdata.steps[e].value=t.detail.value);break;case 6:if(1==l){let t=this.formdata.steps[e];this.formdata.steps[e].value&&t||this.warningb?this.warningb||(this.stepdata[e].edit&&(this.stepdata[e].note=this.formdata.steps[e].note,this.stepdata[e].value=this.formdata.steps[e].value),this.formdata.steps[e].type="video",this.stepdata[e].save=!0,R.stepdata=this.stepdata,R.formdata=this.formdata):(R.info="请先完成步骤中的内容",this.warningFn())}else if(1==s)this.stepdata[e].edit||(this.stepdata[e].note=t.detail.value),this.formdata.steps[e].note=t.detail.value;else if(1!=t.currentTarget.dataset.delete){let t={mod:"task",type:"video",filetype:"video",utype:"video"};this.$ajax.upMedia({seFile:!0,type:"video",formData:t}).then((t=>{let a=JSON.parse(t.data);this.stepdata[e].edit||(this.stepdata[e].value=a.turl),this.formdata.steps[e].value=a.turl}))}else this.formdata.steps[e].value="",R.formdata=this.formdata;break;case 7:if(1==l){let t=this.formdata.steps[e];this.formdata.steps[e].value&&t||this.warningb?this.warningb||(this.stepdata[e].edit&&(this.stepdata[e].note=this.formdata.steps[e].note,this.stepdata[e].value=this.formdata.steps[e].value),this.formdata.steps[e].type="save-video",this.stepdata[e].save=!0,R.stepdata=this.stepdata,R.formdata=this.formdata):(R.info="请先完成步骤中的内容",this.warningFn())}else if(1==s)this.stepdata[e].edit||(this.stepdata[e].note=t.detail.value),this.formdata.steps[e].note=t.detail.value;else if(1!=t.currentTarget.dataset.delete){let t={mod:"task",type:"video",filetype:"video",utype:"video"};this.$ajax.upMedia({seFile:!0,type:"video",formData:t}).then((t=>{let a=JSON.parse(t.data);this.stepdata[e].edit||(this.stepdata[e].value=a.turl),this.formdata.steps[e].value=a.turl}))}else this.formdata.steps[e].value="",R.formdata=this.formdata;break;case 8:if(1==l){let t=this.formdata.steps[e];this.formdata.steps[e].value&&t||this.warningb?this.warningb||(this.stepdata[e].edit&&(this.stepdata[e].note=this.formdata.steps[e].note,this.stepdata[e].value=this.formdata.steps[e].value),this.formdata.steps[e].type="save-image",this.stepdata[e].save=!0,R.stepdata=this.stepdata,R.formdata=this.formdata):(R.info="请先完成步骤中的内容",this.warningFn())}else if(1==s)this.stepdata[e].edit||(this.stepdata[e].note=t.detail.value),this.formdata.steps[e].note=t.detail.value;else if(1!=t.currentTarget.dataset.delete){let t={mod:"task",type:"atlas"};this.$ajax.upMedia({seFile:!0,type:"image",formData:t,upConfig:{count:1}}).then((t=>{let a=JSON.parse(t[0].data);"SUCCESS"!=a.state?(R.info=a.state,r(),this.warningFn()):(this.stepdata[e].edit||(this.stepdata[e].value=a.turl),this.formdata.steps[e].value=a.turl,R.formdata=this.formdata,r())}))}else this.formdata.steps[e].value="",R.formdata=this.formdata;break;case 9:if(1==l){this.formdata.steps[e].note||this.warningb?this.warningb||(this.stepdata[e].edit&&(this.stepdata[e].note=this.formdata.steps[e].note,this.stepdata[e].value=this.formdata.steps[e].value),this.formdata.steps[e].type="save-text",this.formdata.steps[e].value="",this.stepdata[e].save=!0,R.stepdata=this.stepdata):(R.info="请先完成步骤中的内容",this.warningFn())}else 1==s&&(this.stepdata[e].edit||(this.stepdata[e].note=t.detail.value),this.formdata.steps[e].note=t.detail.value,R.formdata=this.formdata)}},publishFn(){let t=this.formdata.steps,e=(this.formdata.quota*Number(this.formdata.price).toFixed(2)).toFixed(2);this.formdata.price=Number(this.formdata.price).toFixed(2),R.formdata=this.formdata,R.total=e;let a=!1;for(let s=0;s<t.length;s++)if("save-image"==t[s].type){a=!0;break}if(!this.warningb&&a){for(let e=0;e<t.length;e++){if(!t[e].type)return R.info=`请先保存步骤${e+1}中的内容`,this.warningFn(),!1;if(!("save-text"==t[e].type||t[e].note&&t[e].value||this.warningb))return R.info=`保存并完成步骤${e+1}中的内容`,this.warningFn(),!1;if("save-text"==t[e].type&&!t[e].note&&!this.warningb)return R.info=`请先完成步骤${e+1}中的内容`,this.warningFn(),!1}if(this.tid){if(!this.ajaxb){R.ajaxb=!0,this.formdata.id=this.tid;let t=JSON.parse(JSON.stringify(this.formdata));for(let e=0;e<t.steps.length;e++)t.steps[e].value&&(t.steps[e].value=t.steps[e].value.split("\n").join("<br/>"));t.steps=JSON.stringify(t.steps),R.$ajax.post({url:"include/ajax.php?"+G.encodeUrl("service=task&action=edit"),data:t,header:"application/x-www-form-urlencoded"}).then((t=>{t.data.info.ordernum?(R.payInfo=t.data.info,R.showPayPop=!0,R.$refs.pay.payCutDown(t.data.info,t.data.info.timeout)):(R.info=t.data.info,R.payplateb=!1,setTimeout((()=>{R.paybackb=!1}),200),this.warningFn());R.ajaxb=!1}))}}else R.paybackb=!0,setTimeout((()=>{R.payplateb=!0}),0)}else this.warningb||(R.info="请添加至少一个收集截图的步骤",this.warningFn())},payFn(t){if(1==t.currentTarget.dataset.close)R.payplateb=!1,setTimeout((()=>{R.paybackb=!1}),200);else if(!this.ajaxb){let t=JSON.parse(JSON.stringify(this.formdata));for(let e=0;e<t.steps.length;e++)t.steps[e].value&&(t.steps[e].value=t.steps[e].value.split("\n").join("<br/>"),t.steps[e].note=t.steps[e].note.split("\n").join("<br/>"));t.steps=JSON.stringify(t.steps),R.ajaxb=!0,R.$ajax.post({url:"include/ajax.php?"+G.encodeUrl("service=task&action=fabu"),data:t,header:"application/x-www-form-urlencoded"}).then((t=>{t.data.info.ordernum?(R.payInfo=t.data.info,R.showPayPop=!0,R.ajaxb=!1,R.$refs.pay.payCutDown(t.data.info,t.data.info.timeout)):(R.info=t.data.info,R.payplateb=!1,R.ajaxb=!1,setTimeout((()=>{R.paybackb=!1}),200),this.warningFn())}))}},keepToCall(t,e){l({delta:3,success:()=>{R.linkTo(`${R.appBoolean?R.channelDomain:""}${R.pages.taskmanage}?index=0&${R.appFullScreen}`)}})},savedediFn(t){let e=t.currentTarget.dataset.index,a=this.formdata.steps[e];this.stepdata[e].save=!1,this.stepdata[e].edit=!0,this.formdata.steps[e]={note:a.note,value:a.value,type:a.type},R.stepdata=this.stepdata,R.formdata=this.formdata},savedmovFn(t){let e=t.currentTarget.dataset.up,a=t.currentTarget.dataset.index;1==e?([this.stepdata[a],this.stepdata[a-1]]=[this.stepdata[a-1],this.stepdata[a]],[this.formdata.steps[a],this.formdata.steps[a-1]]=[this.formdata.steps[a-1],this.formdata.steps[a]],R.formdata=this.formdata,R.stepdata=this.stepdata):([this.stepdata[a],this.stepdata[a+1]]=[this.stepdata[a+1],this.stepdata[a]],[this.formdata.steps[a],this.formdata.steps[a+1]]=[this.formdata.steps[a+1],this.formdata.steps[a]],R.formdata=this.formdata,R.stepdata=this.stepdata)},previewFn(){let t=this.formdata.steps,e=!1;for(let a=0;a<t.length;a++)if("save-image"==t[a].type){e=!0;break}if(!this.warningb&&e){for(let e=0;e<t.length;e++){if(!t[e].type)return R.info=`请先保存步骤${e+1}中的内容`,this.warningFn(),!1;if(!("save-text"==t[e].type||t[e].note&&t[e].value||this.warningb))return R.info=`保存并完成步骤${e+1}中的内容`,this.warningFn(),!1;if("save-text"==t[e].type&&!t[e].note&&!this.warningb)return R.info=`请先完成步骤${e+1}中的内容`,this.warningFn(),!1}n("previewData",this.formdata),R.linkTo(`${R.appBoolean?R.channelDomain:""}${R.pages.preview}?${R.appFullScreen}`)}else this.warningb||(R.info="请添加至少一个收集截图的步骤",this.warningFn())},warningFn(){this.info.indexOf("数量不足")>-1?c({title:"友情提示",content:this.info,confirmText:"升级会员",success(t){t.confirm?R.linkTo(`${R.appBoolean?R.channelDomain:""}${R.pages.vip}?${R.appFullScreen}`):t.cancel&&console.log("用户点击取消")}}):(R.warningb=!this.warningb,setTimeout((()=>{R.warningb=!this.warningb}),2e3))},touchFn:()=>!0,stepschangeFn(){let t=this.formdata.steps,e=!1;for(let s=0;s<t.length;s++)if("save-image"==t[s].type){e=!0;break}if(!e)return R.info="请添加至少一个收集截图的步骤",void this.warningFn();this.formdata.id=this.oid;let a=JSON.parse(JSON.stringify(this.formdata));for(let s=0;s<a.steps.length;s++)a.steps[s].value&&(a.steps[s].value=a.steps[s].value.split("\n").join("<br/>"));a.steps=JSON.stringify(a.steps),R.$ajax.post({url:"include/ajax.php?"+G.encodeUrl("service=task&action=editSteps"),data:a,header:"application/x-www-form-urlencoded"}).then((t=>{R.info=t.data.info,this.warningFn(),setTimeout((()=>{l()}),2e3)}))},configchangeFn(){let t=this.formdata,e={tj_time:t.tj_time,sh_time:t.sh_time,id:this.oid};R.$ajax.post({url:"include/ajax.php?"+G.encodeUrl("service=task&action=editConfig"),data:e}).then((t=>{R.info=t.data.info,this.warningFn(),setTimeout((()=>{this.backFn()}),2e3)}))},trueFun(){console.log("占位：函数 true 未声明")},checkiOSMini(){const t=this;t.iosMiniHide=G.globalData.iOSMiniPay_forbid,t.iosMiniHide&&t.showiOSPayMsg(),G.globalData.appConfig||G.essentialData((function(e){t.iosMiniHide=e.iOSMiniPay_forbid,e.iOSMiniPay_forbid&&t.showiOSPayMsg()}))},showiOSPayMsg(){c({title:"温馨提示",content:G.globalData.iosMiniPay_msg,showCancel:!1,success:function(t){t.confirm&&console.log("用户点击确定")}})}}},[["render",function(t,e,a,s,l,i){const d=k,n=V,o=$,p=S,r=T,c=B,v=I,O=z,E=u("paypop"),M=q(f("previewMedia"),U),N=q(f("private_tip"),A);return m(),h(d,{class:"page"},{default:g((()=>[l.iosMiniHide?(m(),h(d,{key:0,class:"pay_forbid",onClick:e[0]||(e[0]=t=>i.showiOSPayMsg())})):y("",!0),l.appBack?(m(),_(w,{key:1},[b(d,{style:x("height:"+l.wh+"px;background-color: "+l.themedata.themeBackgroundColor+";position: fixed;width: 100%;top: 0rpx;z-index: 99;"),catchtouchmove:""},null,8,["style"]),b(d,{class:"rec-title",style:x("background-color: "+l.themedata.themeBackgroundColor+";top: "+(l.wh+l.biasTop_88)+"px;")},{default:g((()=>[b(n,{src:l.imgurl+"bl-arrow.png?v="+l.imgVersion,onClick:i.backFn,mode:"aspectFill"},null,8,["src","onClick"]),l.stepchangeb||l.configb?y("",!0):(m(),h(d,{key:0},{default:g((()=>[C(F(1==l.steps?"填写项目信息":l.tid?"修改悬赏（"+l.formdata.name+")":"发布悬赏（"+l.formdata.name+")"),1)])),_:1})),l.stepchangeb?(m(),h(d,{key:1},{default:g((()=>[C("修改任务步骤")])),_:1})):y("",!0),l.configb?(m(),h(d,{key:2},{default:g((()=>[C("修改任务配置")])),_:1})):y("",!0)])),_:1},8,["style"])],64)):y("",!0),1==l.steps?(m(),h(d,{key:2,class:"step-one",style:x(l.appBack?`padding-top: calc(100rpx + ${l.wh}px);`:"padding-top:0rpx")},{default:g((()=>[b(d,{class:"so-warn"},{default:g((()=>[C("温馨提示：任务提交后，任务类型和项目名称不能修改。同时，选择错误的分类会导致审核不通过，请慎重选择！")])),_:1}),b(d,{class:"so-name"},{default:g((()=>[b(d,{class:"son-title"},{default:g((()=>[b(d,{class:"step",style:x("background-image: url("+l.imgurl+"step.png);background-size: contain;")},{default:g((()=>[C("1 ")])),_:1},8,["style"]),b(o,null,{default:g((()=>[C("输入项目名")])),_:1}),b(d,{onClick:e[1]||(e[1]=t=>i.linkTo(l.helpdata.helpLink2))},{default:g((()=>[b(d,{class:"rules"},{default:g((()=>[C("点此查看规则")])),_:1})])),_:1})])),_:1}),b(p,{type:"text",class:"son-input",maxlength:"15",placeholder:"请输入项目名称（最多15字）","placeholder-style":"font-size:30rpx;color:#C5C5C5",onInput:i.pronameFn,value:l.projectdata.project},null,8,["onInput","value"]),b(d,{class:"son-label"},{default:g((()=>[C("项目名称：如1.需要下载的APP名 2.公众号名 3.小程序名 4.推广主体名等")])),_:1})])),_:1}),b(d,{class:"so-type"},{default:g((()=>[b(d,{class:"sot-title"},{default:g((()=>[b(d,{class:"step",style:x("background-image: url("+l.imgurl+"step.png);background-size: contain;")},{default:g((()=>[C("2 ")])),_:1},8,["style"]),b(d,{class:"type"},{default:g((()=>[C("选择任务类型")])),_:1})])),_:1}),b(d,{class:"sot-items"},{default:g((()=>[(m(!0),_(w,null,j(l.typedata,((t,e)=>(m(),h(d,{class:P("item step "+(l.typeActive==e?"active":"")),onClick:t=>i.selectFn(e),key:e},{default:g((()=>[b(n,{src:t.icon,class:"logo",mode:"aspectFill"},null,8,["src"]),b(d,null,{default:g((()=>[b(d,{class:"title"},{default:g((()=>[C(F(t.title),1)])),_:2},1024),b(d,{class:"price"},{default:g((()=>[C("单价"+F(t.price)+F(l.globalData.appConfig.currency?l.globalData.appConfig.currency.short:"元")+"起",1)])),_:2},1024),b(d,{class:"number"},{default:g((()=>[C("数量"+F(t.count)+"个起",1)])),_:2},1024)])),_:2},1024),e==l.typeActive?(m(),h(n,{key:0,class:"selected",src:l.imgurl+"selected.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"])):y("",!0)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),b(d,{onClick:e[2]||(e[2]=t=>i.linkTo(l.helpdata.helpLink3))},{default:g((()=>[b(d,{class:"so-help"},{default:g((()=>[b(n,{src:l.imgurl+"pubhelp.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),b(d,null,{default:g((()=>[C("发布教程")])),_:1})])),_:1})])),_:1}),b(d,{style:x("height: "+l.bottomh+"px;")},null,8,["style"]),b(d,{class:"so-next"},{default:g((()=>[b(d,{onClick:i.nextFn,style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C("下一步")])),_:1},8,["onClick","style"])])),_:1})])),_:1},8,["style"])):y("",!0),2==l.steps?(m(),h(d,{key:3,class:"step-two",style:x(l.appBack?`padding-top: calc(100rpx + ${l.wh}px);`:"padding-top:0rpx")},{default:g((()=>[b(d,{class:"st-name",style:x("border-bottom: "+(l.configb?"1rpx":"0rpx")+" solid #EEEEEE;padding-bottom: "+(l.configb?"40rpx":"0rpx")+";")},{default:g((()=>[b(o,{class:"project"},{default:g((()=>[C("项目名称：")])),_:1}),b(o,{class:"name"},{default:g((()=>[C(F(l.formdata.project),1)])),_:1})])),_:1},8,["style"]),b(d,{class:"st-title",style:x("border-bottom:"+(l.configb?"20rpx":"0rpx")+" solid #EEEEEE;"+(l.configb?"width: 200%;margin-left: -30rpx;padding-left: 30rpx;":""))},{default:g((()=>[b(o,{class:"project",style:x(l.config?"-40rpx":"-50rpx")},{default:g((()=>[C("任务标题：")])),_:1},8,["style"]),l.configb?y("",!0):(m(),h(d,{key:0,class:"right"},{default:g((()=>[b(p,{type:"text",class:"title",placeholder:"请填写任务标题(5-20个字)",maxlength:"20","placeholder-style":"color:#C5C5C5",onInput:i.pronameFn,"data-title":"1",value:l.projectdata.title},null,8,["onInput","value"])])),_:1})),l.configb?(m(),h(d,{key:1,class:"right",style:{border:"0rpx","font-size":"32rpx"}},{default:g((()=>[C(F(l.formdata.title),1)])),_:1})):y("",!0)])),_:1},8,["style"]),b(d,{class:"st-time"},{default:g((()=>[b(o,{class:"project"},{default:g((()=>[C("提交时限：")])),_:1}),b(d,{class:"right"},{default:g((()=>[b(d,{class:"time",onClick:i.limitFn,"data-submit":"1"},{default:g((()=>[b(o,null,{default:g((()=>[C(" 限时 "),b(o,{class:"number"},{default:g((()=>[C(F(l.formdata.tj_time%60?l.formdata.tj_time%60:l.formdata.tj_time/60),1)])),_:1}),C(" "+F(l.formdata.tj_time%60?"分钟":"小时")+"内提交 ",1)])),_:1}),b(n,{src:l.imgurl+"r-arrow.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"])])),_:1},8,["onClick"])])),_:1})])),_:1}),b(d,{class:"st-audit",style:x(l.configb?"border-bottom:1rpx solid #EEEEEE":"")},{default:g((()=>[b(d,{class:"project"},{default:g((()=>[C("审核限时：")])),_:1}),l.configb?y("",!0):(m(),h(d,{key:0,class:"right"},{default:g((()=>[b(d,{class:"time",onClick:i.limitFn,"data-audit":"1"},{default:g((()=>[b(d,null,{default:g((()=>[C(" 限时 "),b(o,{class:"number"},{default:g((()=>[C(F(l.formdata.sh_time%60?l.formdata.sh_time%60:l.formdata.sh_time/60),1)])),_:1}),C(" "+F(l.formdata.sh_time%60?"分钟":"小时")+"内审核 ",1),b(d,{style:{"font-size":"24rpx",color:"#a5a5a5","margin-top":"20rpx"}},{default:g((()=>[C("若未按时审核，将自动通过！")])),_:1})])),_:1}),b(n,{src:l.imgurl+"r-arrow.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"])])),_:1},8,["onClick"])])),_:1})),l.configb?(m(),h(d,{key:1,class:"right",style:{"border-bottom":"0rpx"}},{default:g((()=>[l.formdata.js_began_time||l.formdata.js_end_time?y("",!0):(m(),h(d,{key:0,class:"time",onClick:i.limitFn,"data-audit":"1",style:{"flex-direction":"column","align-items":"baseline"}},{default:g((()=>[b(d,{style:{display:"flex","align-items":"center","justify-content":"space-between",width:"100%"}},{default:g((()=>[b(d,null,{default:g((()=>[C(" 限时 "),b(o,{class:"number"},{default:g((()=>[C(F(l.formdata.sh_time%60?l.formdata.sh_time%60:l.formdata.sh_time/60),1)])),_:1}),C(" "+F(l.formdata.sh_time%60?"分钟":"小时")+"内提交 ",1)])),_:1}),b(n,{src:l.imgurl+"r-arrow.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"])])),_:1}),b(d,{style:{"font-size":"24rpx",color:"#fda43d","margin-top":"20rpx"}},{default:g((()=>[C("若未按时审核，将自动通过！")])),_:1})])),_:1},8,["onClick"])),l.formdata.js_began_time&&l.formdata.js_end_time?(m(),h(d,{key:1,class:"time"},{default:g((()=>[b(d,{style:{"font-size":"24rpx",color:"#fda43d"}},{default:g((()=>[C("该任务已开启极速审核，如果需要修改审核时间，请到任务管理页修改极速审核时间")])),_:1})])),_:1})):y("",!0)])),_:1})):y("",!0)])),_:1},8,["style"]),b(d,{class:"st-end",style:x(l.configb?"border-bottom:1rpx solid #EEEEEE":"")},{default:g((()=>[b(d,{class:"project"},{default:g((()=>[C("结束方式：")])),_:1}),b(d,{class:"right",style:x(l.configb?"border-bottom:0rpx":"")},{default:g((()=>[C("数量完成后自动结束")])),_:1},8,["style"])])),_:1},8,["style"]),b(d,{class:"st-times",style:x(l.configb?"padding-bottom: 43rpx;border-bottom:1rpx solid #EEEEEE":"")},{default:g((()=>[b(d,{class:"project"},{default:g((()=>[C("领取次数：")])),_:1}),l.configb?y("",!0):(m(),h(d,{key:0,class:"right"},{default:g((()=>[b(d,{class:"times"},{default:g((()=>[(m(!0),_(w,null,j(l.times,((t,e)=>(m(),h(d,{class:P("item "+(l.timesActive==e?"active":"")),onClick:e=>i.selectFn(t.number),key:e},{default:g((()=>[b(d),b(n,{src:l.imgurl+"confirm.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" "+F(t.title),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),b(d,{style:{"font-size":"24rpx",color:"#a5a5a5"}},{default:g((()=>[C("领取次数提交后不允许修改")])),_:1})])),_:1})),l.configb?(m(),h(d,{key:1},{default:g((()=>[C(F(l.formdata.times),1)])),_:1})):y("",!0)])),_:1},8,["style"]),l.configb?y("",!0):(m(),h(d,{key:0,class:"st-price"},{default:g((()=>[b(d,{class:"project"},{default:g((()=>[C("任务单价：")])),_:1}),b(d,{class:"right"},{default:g((()=>[b(p,{type:"digit",class:"title",value:l.projectdata.mprice,onInput:i.pronameFn,"data-price":"1",placeholder:"最低"+(l.globalData.appConfig.currency?l.globalData.appConfig.currency.symbol:"￥")+l.price+(l.globalData.appConfig.currency?l.globalData.appConfig.currency.short:"元")+"，请输入","placeholder-style":"color:#C5C5C5"},null,8,["value","onInput","placeholder"])])),_:1})])),_:1})),l.configb?y("",!0):(m(),h(d,{key:1,class:"st-price"},{default:g((()=>[b(d,{class:"project"},{default:g((()=>[C("任务名额：")])),_:1}),b(d,{class:"right"},{default:g((()=>[b(p,{type:"number",class:"title",value:l.projectdata.quota,onInput:i.pronameFn,"data-quota":"1",placeholder:"最低"+l.count+"个，请输入","placeholder-style":"color:#C5C5C5"},null,8,["value","onInput","placeholder"])])),_:1})])),_:1})),l.configb?y("",!0):(m(),h(d,{key:2,class:"st-total"},{default:g((()=>[b(d,{class:"project"},{default:g((()=>[C("预付赏金：")])),_:1}),b(d,{class:"title"},{default:g((()=>[C(" 共计 "),b(o,null,{default:g((()=>[C(F(l.sumprice?l.sumprice:"0.00"),1)])),_:1}),C(" "+F(l.globalData.appConfig.currency?l.globalData.appConfig.currency.short:"元"),1)])),_:1})])),_:1})),l.configb?y("",!0):(m(),h(d,{key:3,class:"st-next",onClick:i.nextFn,style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C("下一步（设置步骤）")])),_:1},8,["onClick","style"])),l.configb?(m(),h(d,{key:4,class:"st-config"},{default:g((()=>[b(d,{onClick:i.configchangeFn,style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C("确认修改")])),_:1},8,["onClick","style"])])),_:1})):y("",!0),b(d,{class:"st-section",style:x(""+(l.timeb?"opacity:1;z-index:99":"opacity:0;z-index:-1")),onClick:e[5]||(e[5]=t=>l.pickerb?"":i.colseFn(t)),"data-cancel":"1"},{default:g((()=>[b(d,{style:x("position: fixed;bottom: "+(l.timepopb?"0":"-530")+"rpx;left: 0rpx;width: 100%;transition: all .2s;"),catchtap:""},{default:g((()=>[b(d,{class:"section-title"},{default:g((()=>[b(d,{class:"cancelbtn",onClick:e[3]||(e[3]=t=>l.pickerb?"":i.colseFn(t)),"data-cancel":"1"},{default:g((()=>[C("取消")])),_:1}),b(d,null,{default:g((()=>[C("时间选择")])),_:1}),b(d,{class:"confirmbtn",onClick:e[4]||(e[4]=t=>l.pickerb?"":i.colseFn(t)),"data-cancel":"0"},{default:g((()=>[C("确定")])),_:1})])),_:1}),b(c,{"indicator-class":"st-pointer",onChange:i.limitFn,value:1==l.state.submit?l.hadtime.tj_time.value:l.hadtime.sh_time.value,onPickstart:i.picstartFn},{default:g((()=>[b(r,null,{default:g((()=>[(m(!0),_(w,null,j(l.time,((t,e)=>(m(),h(d,{key:e},{default:g((()=>[C(F(t.title),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["onChange","value","onPickstart"]),b(d,{style:{"padding-bottom":"env(safe-area-inset-bottom)",background:"white"}})])),_:1},8,["style"])])),_:1},8,["style"])])),_:1},8,["style"])):y("",!0),3==l.steps?(m(),h(d,{key:4,class:"step-three",onClick:i.addFn,"data-blank":"1",style:x(l.appBack?`margin-top: calc(100rpx + ${l.wh}px);`:"padding-top:0rpx")},{default:g((()=>[b(d,{class:"st-limit"},{default:g((()=>[b(d,{class:"stl-title"},{default:g((()=>[C("领取条件/限制")])),_:1}),b(p,{type:"text",class:"stl-input",placeholder:"(选填)描述任务重点要求，例：仅限新用户等","placeholder-style":"color:#999999;font-size:30rpx",onInput:i.getlimitFn,maxlength:"100",value:l.projectdata.note||l.formdata.note},null,8,["onInput","value"])])),_:1}),b(d,{class:"st-video"},{default:g((()=>[b(d,{class:"stv-title"},{default:g((()=>[b(o,null,{default:g((()=>[C("视频讲解")])),_:1}),C(" 增加任务详细视频讲解(选填) ")])),_:1}),l.formdata.video?y("",!0):(m(),h(d,{key:0,class:"stv-upload",onClick:i.videoFn},{default:g((()=>[b(d,{class:"logo"},{default:g((()=>[b(n,{src:l.imgurl+"crossadd.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),b(d,{class:"text"},{default:g((()=>[C("上传视频")])),_:1})])),_:1})])),_:1},8,["onClick"])),l.formdata.video?(m(),h(d,{key:1,class:"stv-video",onClick:e[6]||(e[6]=t=>i.previewMediaFn({type:"video",value:l.formdata.video})),"data-video":!0},{default:g((()=>[b(n,{class:"close",src:l.imgurl+"circleClose.png?v="+l.imgVersion,onClick:D(i.videoFn,["stop","prevent"]),"data-delete":"1",mode:"aspectFill"},null,8,["src","onClick"]),b(v,{src:l.formdata.video,controls:!1,"show-center-play-btn":!1,style:{width:"100%",height:"100%"}},null,8,["src"]),b(n,{class:"pause",src:l.imgurl+"pause.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"])])),_:1})):y("",!0)])),_:1}),b(d,{class:"st-set"},{default:g((()=>[b(d,{class:"sts-title",style:x("top:calc(88rpx + "+l.wh+"px)")},{default:g((()=>[b(o,null,{default:g((()=>[C("设置步骤")])),_:1}),b(d,{class:"addstep",onClick:D(i.addFn,["stop","prevent"]),style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C("添加步骤")])),_:1},8,["onClick","style"]),b(d,{class:"sts-pop",style:x("transform: scale("+(l.stepb?1:0)+");"),catchtap:""},{default:g((()=>[b(d,{style:{"max-height":"650rpx","overflow-y":"scroll"}},{default:g((()=>[(m(!0),_(w,null,j(l.addstep,((t,e)=>(m(),h(d,{class:"item",onClick:i.addFn,"data-step":t.step,key:e},{default:g((()=>[b(n,{src:t.imgsrc,mode:"aspectFill"},null,8,["src"]),b(d,null,{default:g((()=>[C(F(t.title),1)])),_:2},1024)])),_:2},1032,["onClick","data-step"])))),128))])),_:1})])),_:1},8,["style"])])),_:1},8,["style"]),b(d,{class:"sts-steps"},{default:g((()=>[0==l.stepdata.length?(m(),h(d,{key:0,class:"blank"},{default:g((()=>[b(n,{src:l.imgurl+"addstep.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),b(d,null,{default:g((()=>[C("请添加步骤")])),_:1})])),_:1})):y("",!0),0!=l.stepdata.length?(m(),h(d,{key:1},{default:g((()=>[(m(!0),_(w,null,j(l.stepdata,((t,e)=>(m(),h(d,{class:"steps",key:e},{default:g((()=>[t.save?y("",!0):(m(),h(d,{key:0},{default:g((()=>[1==t.step?(m(),h(d,{key:0,class:"step one"},{default:g((()=>[b(d,{class:"title"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,null,{default:g((()=>[C("网址链接")])),_:1})])),_:2},1024),b(d,{class:"description"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤说明：")])),_:1}),b(O,{rows:"10",placeholder:"适用于需要点击链接，访问网页的操作","placeholder-style":"color:#999999;font-size:30rpx;  font-weight:normal","auto-height":!0,"data-statement":"1","data-step":t.step,"data-index":e,onInput:i.savstepFn,value:l.formdata.steps[e].note,"disable-default-padding":!0,fixed:!0,maxlength:"10000"},null,8,["data-step","data-index","onInput","value"])])),_:2},1024),b(d,{class:"weburl"},{default:g((()=>[b(d,null,{default:g((()=>[C("网址链接：")])),_:1}),b(p,{type:"text",placeholder:"链接","placeholder-style":"font-size:30rpx;color:#999999",onInput:i.savstepFn,"data-step":t.step,"data-index":e,value:l.formdata.steps[e].value},null,8,["onInput","data-step","data-index","value"])])),_:2},1024),b(d,{class:"btn"},{default:g((()=>[b(d,{class:"save","data-index":e,"data-step":t.step,onClick:D(i.savstepFn,["stop","prevent"]),"data-save":"1",style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C(" 保存 ")])),_:2},1032,["data-index","data-step","onClick","style"]),b(d,{class:"giveup","data-index":e,onClick:D(i.delstepFn,["stop","prevent"]),"data-giveup":!0},{default:g((()=>[C("放弃")])),_:2},1032,["data-index","onClick"])])),_:2},1024)])),_:2},1024)):y("",!0),2==t.step?(m(),h(d,{key:1,class:"step two"},{default:g((()=>[b(d,{class:"title"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,null,{default:g((()=>[C("二维码")])),_:1})])),_:2},1024),b(d,{class:"description"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤说明：")])),_:1}),b(p,{type:"text",placeholder:"适用于需要扫描二维码的操作","placeholder-style":"font-size:30rpx;color:#999999","data-statement":"1","data-step":t.step,onInput:i.savstepFn,"data-index":e,value:l.formdata.steps[e].note},null,8,["data-step","onInput","data-index","value"])])),_:2},1024),b(d,{class:"code"},{default:g((()=>[b(d,null,{default:g((()=>[C("二维码图：")])),_:1}),l.formdata.steps[e].value?y("",!0):(m(),h(d,{key:0,style:{width:"470rpx"}},{default:g((()=>[b(d,{class:"upload",onClick:D(i.savstepFn,["stop","prevent"]),"data-step":t.step,"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"crossadd.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),b(d,null,{default:g((()=>[C("上传二维码")])),_:1})])),_:2},1032,["onClick","data-step","data-index"])])),_:2},1024)),l.formdata.steps[e].value?(m(),h(d,{key:1,style:{width:"470rpx"}},{default:g((()=>[b(d,{class:"coded",onClick:D((t=>i.previewMediaFn({type:"image",value:l.formdata.steps[e].value})),["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"circleClose.png?v="+l.imgVersion,class:"close","data-step":t.step,"data-index":e,"data-delete":"1",onClick:D(i.savstepFn,["stop","prevent"]),mode:"aspectFill"},null,8,["src","data-step","data-index","onClick"]),b(n,{class:"exhibition",src:l.formdata.steps[e].value,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["onClick","data-index"])])),_:2},1024)):y("",!0)])),_:2},1024),b(d,{class:"btn"},{default:g((()=>[b(d,{class:"save","data-index":e,"data-step":t.step,onClick:D(i.savstepFn,["stop","prevent"]),"data-save":"1",style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C(" 保存 ")])),_:2},1032,["data-index","data-step","onClick","style"]),b(d,{class:"giveup","data-index":e,onClick:D(i.delstepFn,["stop","prevent"]),"data-giveup":!0},{default:g((()=>[C("放弃")])),_:2},1032,["data-index","onClick"])])),_:2},1024)])),_:2},1024)):y("",!0),3==t.step?(m(),h(d,{key:2,class:"step one"},{default:g((()=>[b(d,{class:"title"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,null,{default:g((()=>[C("复制数据")])),_:1})])),_:2},1024),b(d,{class:"description"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤说明：")])),_:1}),b(O,{rows:"10","auto-height":!0,placeholder:"适用于需要复制数据的任务，方便快速复制","placeholder-style":"color:#999999;font-size:30rpx;font-weight:normal","data-statement":"1","data-step":t.step,onInput:i.savstepFn,"data-index":e,value:l.formdata.steps[e].note,"disable-default-padding":!0,fixed:!0,maxlength:"10000"},null,8,["data-step","onInput","data-index","value"])])),_:2},1024),b(d,{class:"weburl"},{default:g((()=>[b(d,null,{default:g((()=>[C("复制数据：")])),_:1}),b(p,{type:"text",placeholder:"如邀请码、钱包地址之类","placeholder-style":"font-size:30rpx;color:#999999","data-step":t.step,"data-index":e,onInput:i.savstepFn,value:l.formdata.steps[e].value},null,8,["data-step","data-index","onInput","value"])])),_:2},1024),b(d,{class:"btn"},{default:g((()=>[b(d,{class:"save","data-index":e,"data-step":t.step,onClick:D(i.savstepFn,["stop","prevent"]),"data-save":"1",style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C(" 保存 ")])),_:2},1032,["data-index","data-step","onClick","style"]),b(d,{class:"giveup","data-index":e,onClick:D(i.delstepFn,["stop","prevent"]),"data-giveup":!0},{default:g((()=>[C("放弃")])),_:2},1032,["data-index","onClick"])])),_:2},1024)])),_:2},1024)):y("",!0),4==t.step?(m(),h(d,{key:3,class:"step three"},{default:g((()=>[b(d,{class:"title"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,null,{default:g((()=>[C("图文说明")])),_:1})])),_:2},1024),b(d,{class:"description"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤说明：")])),_:1}),b(O,{rows:"10",placeholder:"适用于需要图片说明引导接单者完成任务的操作","auto-height":"","placeholder-style":"color:#999999;font-size:30rpx;font-weight:normal","data-statement":"1","data-step":t.step,onInput:i.savstepFn,"data-index":e,value:l.formdata.steps[e].note,"disable-default-padding":!0,fixed:!0,maxlength:"10000"},null,8,["data-step","onInput","data-index","value"])])),_:2},1024),b(d,{class:"code"},{default:g((()=>[b(d,null,{default:g((()=>[C("图片说明：")])),_:1}),l.formdata.steps[e].value?y("",!0):(m(),h(d,{key:0,style:{width:"470rpx"}},{default:g((()=>[b(d,{class:"upload","data-step":t.step,"data-index":e,onClick:D(i.savstepFn,["stop","prevent"])},{default:g((()=>[b(n,{src:l.imgurl+"crossadd.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),b(d,null,{default:g((()=>[C("上传说明图")])),_:1})])),_:2},1032,["data-step","data-index","onClick"])])),_:2},1024)),l.formdata.steps[e].value?(m(),h(d,{key:1,style:{width:"470rpx"}},{default:g((()=>[b(d,{class:"coded",onClick:D((t=>i.previewMediaFn({type:"image",value:l.formdata.steps[e].value})),["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"circleClose.png?v="+l.imgVersion,class:"close","data-step":t.step,"data-index":e,"data-delete":"1",onClick:D(i.savstepFn,["stop","prevent"]),mode:"aspectFill"},null,8,["src","data-step","data-index","onClick"]),b(n,{class:"exhibition",src:l.formdata.steps[e].value,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["onClick","data-index"])])),_:2},1024)):y("",!0)])),_:2},1024),b(d,{class:"btn"},{default:g((()=>[b(d,{class:"save","data-index":e,"data-step":t.step,onClick:D(i.savstepFn,["stop","prevent"]),"data-save":"1",style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C(" 保存 ")])),_:2},1032,["data-index","data-step","onClick","style"]),b(d,{class:"giveup","data-index":e,onClick:D(i.delstepFn,["stop","prevent"]),"data-giveup":!0},{default:g((()=>[C("放弃")])),_:2},1032,["data-index","onClick"])])),_:2},1024)])),_:2},1024)):y("",!0),5==t.step?(m(),h(d,{key:4,class:"step one"},{default:g((()=>[b(d,{class:"title"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,null,{default:g((()=>[C("文字说明")])),_:1})])),_:2},1024),b(d,{class:"description"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤说明：")])),_:1}),b(p,{placeholder:"说明标题","placeholder-style":"color:#999999;font-size:30rpx;font-weight:normal","data-statement":"1","data-step":t.step,"data-index":e,onInput:i.savstepFn,value:l.formdata.steps[e].note},null,8,["data-step","data-index","onInput","value"])])),_:2},1024),b(d,{class:"weburl"},{default:g((()=>[b(d,null,{default:g((()=>[C("详细说明：")])),_:1}),b(O,{type:"text",placeholder:"适用于纯文字说明引导接单者完成任务的操作","placeholder-style":"font-size:30rpx;color:#999999",onInput:i.savstepFn,"data-step":t.step,"data-index":e,value:l.formdata.steps[e].value,"auto-height":"",maxlength:"10000"},null,8,["onInput","data-step","data-index","value"])])),_:2},1024),b(d,{class:"btn"},{default:g((()=>[b(d,{class:"save","data-index":e,"data-step":t.step,onClick:D(i.savstepFn,["stop","prevent"]),"data-save":"1",style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C(" 保存 ")])),_:2},1032,["data-index","data-step","onClick","style"]),b(d,{class:"giveup","data-index":e,onClick:D(i.delstepFn,["stop","prevent"]),"data-giveup":!0},{default:g((()=>[C("放弃")])),_:2},1032,["data-index","onClick"])])),_:2},1024)])),_:2},1024)):y("",!0),6==t.step?(m(),h(d,{key:5,class:"step three"},{default:g((()=>[b(d,{class:"title"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,null,{default:g((()=>[C("视频说明")])),_:1})])),_:2},1024),b(d,{class:"description"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤说明：")])),_:1}),b(O,{rows:"10",placeholder:"适用于需要视频说明引导接单者完成任务的操作","auto-height":"","placeholder-style":"color:#999999;font-size:30rpx;font-weight:normal","data-statement":"1","data-step":t.step,onInput:i.savstepFn,"data-index":e,value:l.formdata.steps[e].note,"disable-default-padding":!0,fixed:!0,maxlength:"10000"},null,8,["data-step","onInput","data-index","value"])])),_:2},1024),b(d,{class:"code"},{default:g((()=>[b(d,null,{default:g((()=>[C("视频说明：")])),_:1}),b(d,{style:{width:"470rpx"}},{default:g((()=>[l.formdata.steps[e].value?y("",!0):(m(),h(d,{key:0,class:"stv-upload",style:{width:"162rpx",height:"162rpx",border:"0"},onClick:D(i.savstepFn,["stop","prevent"]),"data-step":t.step,"data-index":e},{default:g((()=>[b(d,{class:"logo"},{default:g((()=>[b(n,{src:l.imgurl+"crossadd.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),b(d,{class:"text"},{default:g((()=>[C("上传说明视频")])),_:1})])),_:1})])),_:2},1032,["onClick","data-step","data-index"])),l.formdata.steps[e].value?(m(),h(d,{key:1,class:"stv-video",onClick:t=>i.previewMediaFn({type:"video",value:l.formdata.steps[e].value}),"data-video":!0,"data-index":e,"data-state":"1"},{default:g((()=>[b(n,{class:"close",src:l.imgurl+"circleClose.png?v="+l.imgVersion,onClick:D(i.savstepFn,["stop","prevent"]),"data-step":t.step,"data-index":e,"data-delete":"1",mode:"aspectFill"},null,8,["src","onClick","data-step","data-index"]),b(v,{src:l.formdata.steps[e].value,controls:!1,"show-center-play-btn":!1,style:{"border-radius":"10rpx",width:"100%",height:"100%"}},null,8,["src"]),b(n,{class:"pause",src:l.imgurl+"pause.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["onClick","data-index"])):y("",!0)])),_:2},1024)])),_:2},1024),b(d,{class:"btn"},{default:g((()=>[b(d,{class:"save","data-index":e,"data-step":t.step,onClick:D(i.savstepFn,["stop","prevent"]),"data-save":"1",style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C(" 保存 ")])),_:2},1032,["data-index","data-step","onClick","style"]),b(d,{class:"giveup","data-index":e,onClick:D(i.delstepFn,["stop","prevent"]),"data-giveup":!0},{default:g((()=>[C("放弃")])),_:2},1032,["data-index","onClick"])])),_:2},1024)])),_:2},1024)):y("",!0),7==t.step?(m(),h(d,{key:6,class:"step three"},{default:g((()=>[b(d,{class:"title"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,null,{default:g((()=>[C("收集视频")])),_:1})])),_:2},1024),b(d,{class:"description"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤说明：")])),_:1}),b(O,{rows:"10",placeholder:"适用于收集结果，明确告知用户需收集的视频","auto-height":"","placeholder-style":"color:#999999;font-size:30rpx;font-weight:normal","data-statement":"1","data-step":t.step,onInput:i.savstepFn,"data-index":e,value:l.formdata.steps[e].note,"disable-default-padding":!0,fixed:!0,maxlength:"10000"},null,8,["data-step","onInput","data-index","value"])])),_:2},1024),b(d,{class:"code"},{default:g((()=>[b(d,null,{default:g((()=>[C("视频示例：")])),_:1}),b(d,{style:{width:"470rpx"}},{default:g((()=>[l.formdata.steps[e].value?y("",!0):(m(),h(d,{key:0,class:"stv-upload",style:{width:"162rpx",height:"162rpx",border:"0"},onClick:D(i.savstepFn,["stop","prevent"]),"data-step":t.step,"data-index":e},{default:g((()=>[b(d,{class:"logo"},{default:g((()=>[b(n,{src:l.imgurl+"crossadd.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),b(d,{class:"text"},{default:g((()=>[C("上传示例视频")])),_:1})])),_:1})])),_:2},1032,["onClick","data-step","data-index"])),l.formdata.steps[e].value?(m(),h(d,{key:1,class:"stv-video",onClick:t=>i.previewMediaFn({type:"video",value:l.formdata.steps[e].value}),"data-video":!0,"data-index":e,"data-state":"1"},{default:g((()=>[b(n,{class:"close",src:l.imgurl+"circleClose.png?v="+l.imgVersion,onClick:D(i.savstepFn,["stop","prevent"]),"data-step":t.step,"data-index":e,"data-delete":"1",mode:"aspectFill"},null,8,["src","onClick","data-step","data-index"]),b(v,{src:l.formdata.steps[e].value,controls:!1,"show-center-play-btn":!1,style:{"border-radius":"10rpx",width:"100%",height:"100%"}},null,8,["src"]),b(n,{class:"pause",src:l.imgurl+"pause.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["onClick","data-index"])):y("",!0)])),_:2},1024)])),_:2},1024),b(d,{class:"btn"},{default:g((()=>[b(d,{class:"save","data-index":e,"data-step":t.step,onClick:D(i.savstepFn,["stop","prevent"]),"data-save":"1",style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C(" 保存 ")])),_:2},1032,["data-index","data-step","onClick","style"]),b(d,{class:"giveup","data-index":e,onClick:D(i.delstepFn,["stop","prevent"]),"data-giveup":!0},{default:g((()=>[C("放弃")])),_:2},1032,["data-index","onClick"])])),_:2},1024)])),_:2},1024)):y("",!0),8==t.step?(m(),h(d,{key:7,class:"step three"},{default:g((()=>[b(d,{class:"title"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,null,{default:g((()=>[C("收集截图")])),_:1})])),_:2},1024),b(d,{class:"description"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤说明：")])),_:1}),b(O,{rows:"10",placeholder:"适用于收集结果，明确告知用户需截取的页面","auto-height":"","placeholder-style":"color:#999999;font-size:30rpx;font-weight:normal","data-statement":"1","data-index":e,"data-step":t.step,onInput:i.savstepFn,value:l.formdata.steps[e].note,"disable-default-padding":!0,maxlength:"10000",fixed:!0},null,8,["data-index","data-step","onInput","value"])])),_:2},1024),b(d,{class:"code"},{default:g((()=>[b(d,null,{default:g((()=>[C("图片示例：")])),_:1}),l.formdata.steps[e].value?y("",!0):(m(),h(d,{key:0,style:{width:"470rpx"}},{default:g((()=>[b(d,{class:"upload",onClick:D(i.savstepFn,["stop","prevent"]),"data-index":e,"data-step":t.step},{default:g((()=>[b(n,{src:l.imgurl+"crossadd.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),b(d,null,{default:g((()=>[C("上传示例图")])),_:1})])),_:2},1032,["onClick","data-index","data-step"])])),_:2},1024)),l.formdata.steps[e].value?(m(),h(d,{key:1,style:{width:"470rpx"}},{default:g((()=>[b(d,{class:"coded",onClick:D((t=>i.previewMediaFn({type:"image",value:l.formdata.steps[e].value})),["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"circleClose.png?v="+l.imgVersion,class:"close","data-step":t.step,"data-index":e,"data-delete":"1",onClick:D(i.savstepFn,["stop","prevent"]),mode:"aspectFill"},null,8,["src","data-step","data-index","onClick"]),b(n,{class:"exhibition",src:l.formdata.steps[e].value,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["onClick","data-index"])])),_:2},1024)):y("",!0)])),_:2},1024),b(d,{class:"btn"},{default:g((()=>[b(d,{class:"save","data-index":e,"data-step":t.step,onClick:D(i.savstepFn,["stop","prevent"]),"data-save":"1",style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C(" 保存 ")])),_:2},1032,["data-index","data-step","onClick","style"]),b(d,{class:"giveup","data-index":e,onClick:D(i.delstepFn,["stop","prevent"]),"data-giveup":!0},{default:g((()=>[C("放弃")])),_:2},1032,["data-index","onClick"])])),_:2},1024)])),_:2},1024)):y("",!0),9==t.step?(m(),h(d,{key:8,class:"step four"},{default:g((()=>[b(d,{class:"title"},{default:g((()=>[b(d,null,{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,null,{default:g((()=>[C("收集信息")])),_:1})])),_:2},1024),b(d,{class:"description"},{default:g((()=>[b(d,null,{default:g((()=>[C("收集信息：")])),_:1}),b(O,{rows:"10",placeholder:"适用于收集手机号、用户名、姓名、ID等","auto-height":"","placeholder-style":"color:#999999;font-size:30rpx;font-weight:normal","data-statement":"1","data-step":t.step,"data-index":e,onInput:i.savstepFn,value:l.formdata.steps[e].note,"disable-default-padding":!0,fixed:!0,maxlength:"10000"},null,8,["data-step","data-index","onInput","value"])])),_:2},1024),b(d,{class:"example"},{default:g((()=>[C("内容举例：请填写用户ID，方便我确认")])),_:1}),b(d,{class:"btn"},{default:g((()=>[b(d,{class:"save","data-index":e,"data-step":t.step,onClick:D(i.savstepFn,["stop","prevent"]),"data-save":"1",style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C(" 保存 ")])),_:2},1032,["data-index","data-step","onClick","style"]),b(d,{class:"giveup","data-index":e,onClick:D(i.delstepFn,["stop","prevent"]),"data-giveup":!0},{default:g((()=>[C("放弃")])),_:2},1032,["data-index","onClick"])])),_:2},1024)])),_:2},1024)):y("",!0)])),_:2},1024)),t.save?(m(),h(d,{key:1,class:"saved"},{default:g((()=>[1==t.step?(m(),h(d,{key:0,class:"s-copy"},{default:g((()=>[b(d,{class:"sc-title"},{default:g((()=>[b(d,{class:"left"},{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,{class:"right"},{default:g((()=>[C(F(l.formdata.steps[e].note),1)])),_:2},1024)])),_:2},1024),b(d,{class:"sc-content",style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C("复制链接")])),_:1},8,["style"]),b(d,{class:"sc-btn"},{default:g((()=>[b(d,{class:"btn",onClick:D(i.delstepFn,["stop","prevent"]),"data-del":!0,"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"listdel.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 删除 ")])),_:2},1032,["onClick","data-index"]),0!=e?(m(),h(d,{key:0,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-up":"1","data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"upFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 上移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),e!=l.stepdata.length-1?(m(),h(d,{key:1,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"downFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 下移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),b(d,{class:"btn",onClick:D(i.savedediFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"changesub.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 编辑 ")])),_:2},1032,["onClick","data-index"])])),_:2},1024)])),_:2},1024)):y("",!0),2==t.step?(m(),h(d,{key:1,class:"s-code"},{default:g((()=>[b(d,{class:"sc-title"},{default:g((()=>[b(d,{class:"left"},{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,{class:"right"},{default:g((()=>[C(F(l.formdata.steps[e].note),1)])),_:2},1024)])),_:2},1024),b(n,{class:"sc-content",src:l.formdata.steps[e].value,mode:"aspectFill",onClick:D((t=>i.previewMediaFn({type:"image",value:l.formdata.steps[e].value})),["stop","prevent"]),"data-index":e},null,8,["src","onClick","data-index"]),b(d,{class:"sc-btn"},{default:g((()=>[b(d,{class:"btn",onClick:D(i.delstepFn,["stop","prevent"]),"data-del":!0,"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"listdel.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 删除 ")])),_:2},1032,["onClick","data-index"]),0!=e?(m(),h(d,{key:0,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-up":"1","data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"upFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 上移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),e!=l.stepdata.length-1?(m(),h(d,{key:1,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"downFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 下移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),b(d,{class:"btn",onClick:D(i.savedediFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"changesub.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 编辑 ")])),_:2},1032,["onClick","data-index"])])),_:2},1024)])),_:2},1024)):y("",!0),3==t.step?(m(),h(d,{key:2,class:"s-invite"},{default:g((()=>[b(d,{class:"sc-title"},{default:g((()=>[b(d,{class:"left"},{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,{class:"right"},{default:g((()=>[C(F(l.formdata.steps[e].note),1)])),_:2},1024)])),_:2},1024),b(d,{class:"sc-content"},{default:g((()=>[b(p,{type:"text",disabled:"",value:l.formdata.steps[e].value},null,8,["value"]),b(d,{style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C("复制数据")])),_:1},8,["style"])])),_:2},1024),b(d,{class:"sc-btn"},{default:g((()=>[b(d,{class:"btn",onClick:D(i.delstepFn,["stop","prevent"]),"data-del":!0,"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"listdel.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 删除 ")])),_:2},1032,["onClick","data-index"]),0!=e?(m(),h(d,{key:0,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-up":"1","data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"upFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 上移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),e!=l.stepdata.length-1?(m(),h(d,{key:1,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"downFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 下移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),b(d,{class:"btn",onClick:D(i.savedediFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"changesub.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 编辑 ")])),_:2},1032,["onClick","data-index"])])),_:2},1024)])),_:2},1024)):y("",!0),4==t.step?(m(),h(d,{key:3,class:"s-description"},{default:g((()=>[b(d,{class:"sc-title"},{default:g((()=>[b(d,{class:"left"},{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,{class:"right"},{default:g((()=>[C(F(l.formdata.steps[e].note),1)])),_:2},1024)])),_:2},1024),b(d,{class:"sc-content",onClick:D((t=>i.previewMediaFn({type:"image",value:l.formdata.steps[e].value})),["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{class:"picture",src:l.formdata.steps[e].value,mode:"aspectFill"},null,8,["src"]),b(d,{class:"description"},{default:g((()=>[C("说明图")])),_:1})])),_:2},1032,["onClick","data-index"]),b(d,{class:"sc-btn"},{default:g((()=>[b(d,{class:"btn",onClick:D(i.delstepFn,["stop","prevent"]),"data-del":!0,"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"listdel.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 删除 ")])),_:2},1032,["onClick","data-index"]),0!=e?(m(),h(d,{key:0,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-up":"1","data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"upFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 上移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),e!=l.stepdata.length-1?(m(),h(d,{key:1,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"downFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 下移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),b(d,{class:"btn",onClick:D(i.savedediFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"changesub.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 编辑 ")])),_:2},1032,["onClick","data-index"])])),_:2},1024)])),_:2},1024)):y("",!0),5==t.step?(m(),h(d,{key:4,class:"s-text"},{default:g((()=>[b(d,{class:"sc-title"},{default:g((()=>[b(d,{class:"left"},{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,{class:"right"},{default:g((()=>[C(F(l.formdata.steps[e].note),1)])),_:2},1024)])),_:2},1024),b(d,{class:"sc-content"},{default:g((()=>[b(o,null,{default:g((()=>[C(F(l.formdata.steps[e].value),1)])),_:2},1024)])),_:2},1024),b(d,{class:"sc-btn"},{default:g((()=>[b(d,{class:"btn",onClick:D(i.delstepFn,["stop","prevent"]),"data-del":!0,"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"listdel.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 删除 ")])),_:2},1032,["onClick","data-index"]),0!=e?(m(),h(d,{key:0,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-up":"1","data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"upFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 上移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),e!=l.stepdata.length-1?(m(),h(d,{key:1,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"downFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 下移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),b(d,{class:"btn",onClick:D(i.savedediFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"changesub.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 编辑 ")])),_:2},1032,["onClick","data-index"])])),_:2},1024)])),_:2},1024)):y("",!0),6==t.step?(m(),h(d,{key:5,class:"s-video"},{default:g((()=>[b(d,{class:"sc-title"},{default:g((()=>[b(d,{class:"left"},{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,{class:"right"},{default:g((()=>[C(F(l.formdata.steps[e].note),1)])),_:2},1024)])),_:2},1024),b(d,{class:"sc-content",onClick:D((t=>i.previewMediaFn({type:"video",value:l.formdata.steps[e].value})),["stop","prevent"]),"data-index":e,"data-video":!0,"data-state":"1"},{default:g((()=>[b(v,{class:"picture",src:l.formdata.steps[e].value,controls:!1,"show-center-play-btn":!1},null,8,["src"]),b(d,{class:"description"},{default:g((()=>[C("说明视频")])),_:1}),b(n,{class:"pause",src:l.imgurl+"pause.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["onClick","data-index"]),b(d,{class:"sc-btn"},{default:g((()=>[b(d,{class:"btn",onClick:D(i.delstepFn,["stop","prevent"]),"data-del":!0,"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"listdel.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 删除 ")])),_:2},1032,["onClick","data-index"]),0!=e?(m(),h(d,{key:0,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-up":"1","data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"upFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 上移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),e!=l.stepdata.length-1?(m(),h(d,{key:1,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"downFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 下移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),b(d,{class:"btn",onClick:D(i.savedediFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"changesub.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 编辑 ")])),_:2},1032,["onClick","data-index"])])),_:2},1024)])),_:2},1024)):y("",!0),7==t.step?(m(),h(d,{key:6,class:"s-video"},{default:g((()=>[b(d,{class:"sc-title"},{default:g((()=>[b(d,{class:"left"},{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,{class:"right"},{default:g((()=>[C(F(l.formdata.steps[e].note),1)])),_:2},1024)])),_:2},1024),b(d,{class:"sc-content",onClick:D((t=>i.previewMediaFn({type:"video",value:l.formdata.steps[e].value})),["stop","prevent"]),"data-index":e,"data-video":!0,"data-state":"1"},{default:g((()=>[b(v,{class:"picture",src:l.formdata.steps[e].value,controls:!1,"show-center-play-btn":!1},null,8,["src"]),b(d,{class:"description"},{default:g((()=>[C("提交视频")])),_:1}),b(n,{class:"pause",src:l.imgurl+"pause.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["onClick","data-index"]),b(d,{class:"sc-btn"},{default:g((()=>[b(d,{class:"btn",onClick:D(i.delstepFn,["stop","prevent"]),"data-del":!0,"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"listdel.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 删除 ")])),_:2},1032,["onClick","data-index"]),0!=e?(m(),h(d,{key:0,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-up":"1","data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"upFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 上移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),e!=l.stepdata.length-1?(m(),h(d,{key:1,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"downFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 下移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),b(d,{class:"btn",onClick:D(i.savedediFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"changesub.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 编辑 ")])),_:2},1032,["onClick","data-index"])])),_:2},1024)])),_:2},1024)):y("",!0),8==t.step?(m(),h(d,{key:7,class:"s-cutimg"},{default:g((()=>[b(d,{class:"sc-title"},{default:g((()=>[b(d,{class:"left"},{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,{class:"right"},{default:g((()=>[C(F(l.formdata.steps[e].note),1)])),_:2},1024)])),_:2},1024),b(d,{class:"sc-content",onClick:D((t=>i.previewMediaFn({type:"image",value:l.formdata.steps[e].value})),["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{class:"picture",src:l.formdata.steps[e].value,mode:"aspectFill"},null,8,["src"]),b(d,{class:"description"},{default:g((()=>[C("提交图")])),_:1})])),_:2},1032,["onClick","data-index"]),b(d,{class:"sc-btn"},{default:g((()=>[b(d,{class:"btn",onClick:D(i.delstepFn,["stop","prevent"]),"data-del":!0,"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"listdel.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 删除 ")])),_:2},1032,["onClick","data-index"]),0!=e?(m(),h(d,{key:0,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-up":"1","data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"upFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 上移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),e!=l.stepdata.length-1?(m(),h(d,{key:1,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"downFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 下移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),b(d,{class:"btn",onClick:D(i.savedediFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"changesub.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 编辑 ")])),_:2},1032,["onClick","data-index"])])),_:2},1024)])),_:2},1024)):y("",!0),9==t.step?(m(),h(d,{key:8,class:"s-phone"},{default:g((()=>[b(d,{class:"sc-title"},{default:g((()=>[b(d,{class:"left"},{default:g((()=>[C("步骤-"+F(e+1),1)])),_:2},1024),b(o,{class:"right"},{default:g((()=>[C(F(l.formdata.steps[e].note),1)])),_:2},1024)])),_:2},1024),b(d,{class:"sc-content"},{default:g((()=>[b(p,{type:"text",disabled:"",placeholder:"请按提示要求输入文内容","placeholder-style":"font-size: 28rpx;color: #333333;"})])),_:1}),b(d,{class:"sc-btn"},{default:g((()=>[b(d,{class:"btn",onClick:D(i.delstepFn,["stop","prevent"]),"data-del":!0,"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"listdel.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 删除 ")])),_:2},1032,["onClick","data-index"]),0!=e?(m(),h(d,{key:0,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-up":"1","data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"upFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 上移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),e!=l.stepdata.length-1?(m(),h(d,{key:1,class:"btn",onClick:D(i.savedmovFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"downFloor.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 下移 ")])),_:2},1032,["onClick","data-index"])):y("",!0),b(d,{class:"btn",onClick:D(i.savedediFn,["stop","prevent"]),"data-index":e},{default:g((()=>[b(n,{src:l.imgurl+"changesub.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),C(" 编辑 ")])),_:2},1032,["onClick","data-index"])])),_:2},1024)])),_:2},1024)):y("",!0)])),_:2},1024)):y("",!0)])),_:2},1024)))),128))])),_:1})):y("",!0)])),_:1})])),_:1}),b(d,{style:x("height:"+l.bottomh+"px;")},null,8,["style"]),b(d,{class:"st-btn"},{default:g((()=>[l.stepchangeb?y("",!0):(m(),h(d,{key:0,class:"stb-title"},{default:g((()=>[C(" 点击发布任务即表示遵守 "),b(d,{onClick:e[7]||(e[7]=t=>i.linkTo(l.helpdata.helpLink2))},{default:g((()=>[b(o,null,{default:g((()=>[C("《发布规则》")])),_:1})])),_:1})])),_:1})),l.stepchangeb?y("",!0):(m(),h(d,{key:1,class:"stb-btn"},{default:g((()=>[b(d,{class:"left",onClick:D(i.previewFn,["stop","prevent"])},{default:g((()=>[b(n,{src:l.imgurl+"previewG.png?v="+l.imgVersion,mode:"aspectFill"},null,8,["src"]),b(o,null,{default:g((()=>[C("预览任务")])),_:1})])),_:1},8,["onClick"]),b(d,{class:"right",onClick:D(i.publishFn,["stop","prevent"]),style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C(F(l.tid?"确认修改并重新提交":"发布任务"),1)])),_:1},8,["onClick","style"])])),_:1})),l.stepchangeb?(m(),h(d,{key:2,class:"stb-btn-change",style:x([{"margin-top":"39rpx"},"background: "+l.themedata.themeBackgroundColor+";"]),onClick:i.stepschangeFn},{default:g((()=>[C(" 确认修改 ")])),_:1},8,["onClick","style"])):y("",!0)])),_:1}),b(d,{class:"st-pay",onClick:i.payFn,style:x("display: "+(l.paybackb?"block":"none")+";"),"data-close":"1",onTouchmove:D(i.touchFn,["stop","prevent"])},{default:g((()=>[b(d,{class:"stp-content",style:x("transform: translateY("+(l.payplateb?"0":"100%")+");"),catchtap:""},{default:g((()=>[b(d,{onClick:D(i.trueFun,["stop","prevent"]),class:"plate"},{default:g((()=>[b(d,{class:"title"},{default:g((()=>[C("支付任务")])),_:1}),b(d,{class:"task"},{default:g((()=>[b(n,{class:"photo",src:l.userphoto||l.userError,mode:"aspectFill",onClick:e[8]||(e[8]=t=>l.userphoto=l.userError)},null,8,["src"]),b(d,{class:"right"},{default:g((()=>[b(d,{class:"name"},{default:g((()=>[C(F(l.formdata.title),1)])),_:1}),b(d,{class:"price"},{default:g((()=>[b(d,{class:"lprice"},{default:g((()=>[b(o,null,{default:g((()=>[C(F(l.globalData.appConfig.currency?l.globalData.appConfig.currency.symbol:"￥"),1)])),_:1}),C(F(l.formdata.price),1)])),_:1}),C(" x"+F(l.formdata.quota)+" ",1),b(o,null,{default:g((()=>[C("个")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["onClick"]),b(d,{class:"btn"},{default:g((()=>[b(d,{class:"price"},{default:g((()=>[b(d,null,{default:g((()=>[C("应付金额")])),_:1}),b(d,{style:{color:"#f45d2c","font-size":"30rpx","font-weight":"bold"}},{default:g((()=>[C(F(l.globalData.appConfig.currency?l.globalData.appConfig.currency.symbol:"￥")+F(l.total),1)])),_:1})])),_:1}),b(d,{class:"confirm",onClick:D(i.payFn,["stop","prevent"]),style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C("确认支付")])),_:1},8,["onClick","style"])])),_:1})])),_:1},8,["style"])])),_:1},8,["onClick","style","onTouchmove"]),l.delb?(m(),h(d,{key:0,class:"st-pop"},{default:g((()=>[b(d,{class:"pop-content"},{default:g((()=>[b(d,{class:"text"},{default:g((()=>[C("请确认是否删除步骤"+F(l.popstep),1)])),_:1}),b(d,{class:"btn"},{default:g((()=>[b(d,{class:"cancel",onClick:D(i.delstepFn,["stop","prevent"]),"data-cancel":!0},{default:g((()=>[C("取消")])),_:1},8,["onClick"]),b(d,{class:"confirm",onClick:D(i.delstepFn,["stop","prevent"]),"data-confirm":!0,style:x("background: "+l.themedata.themeBackgroundColor+";")},{default:g((()=>[C("确认删除")])),_:1},8,["onClick","style"])])),_:1})])),_:1})])),_:1})):y("",!0)])),_:1},8,["onClick","style"])):y("",!0),b(d,{class:"pop-warning",style:x(l.warningb?"transform:scale(1);":"transform:scale(0);z-index:-1;")},{default:g((()=>[b(d,{class:"text"},{default:g((()=>[C(F(l.info),1)])),_:1})])),_:1},8,["style"]),b(E,{id:"paypop",showPayPop:l.showPayPop,service:"task",action:"pay",payInfo:l.payInfo,onKeepToCall:e[9]||(e[9]=t=>i.keepToCall(t,{tagId:"paypop"})),ref:"pay",onPaypopb:e[10]||(e[10]=t=>l.showPayPop=!1)},null,8,["showPayPop","payInfo"]),b(M,{previewb:l.previewb,staticSrc:l.staticSrc,onPreviewClose:e[11]||(e[11]=t=>l.previewb=!1)},null,8,["previewb","staticSrc"]),b(N,{privateShow:l.privateb},null,8,["privateShow"])])),_:1})}],["__scopeId","data-v-82e03823"]]);export{K as default};
