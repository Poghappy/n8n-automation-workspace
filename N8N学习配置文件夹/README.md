# N8N å­¦ä¹ é…ç½®æ–‡ä»¶å¤¹

## ğŸ“– ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºå­¦ä¹ N8Nè‡ªåŠ¨åŒ–å·¥ä½œæµè€Œåˆ›å»ºçš„é…ç½®æ–‡ä»¶å¤¹ã€‚åŒ…å«äº†å®Œæ•´çš„N8Néƒ¨ç½²é…ç½®ã€è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šè¯´æ˜ã€å­¦ä¹ æŒ‡å—å’Œå®è·µç¤ºä¾‹ï¼Œå¸®åŠ©ä½ å¿«é€ŸæŒæ¡N8Nçš„ä½¿ç”¨æ–¹æ³•ã€‚

## ğŸ“ æ–‡ä»¶å¤¹ç»“æ„

```
N8Nå­¦ä¹ é…ç½®æ–‡ä»¶å¤¹/
â”œâ”€â”€ 01-Dockeré…ç½®æ–‡ä»¶/              # Dockeréƒ¨ç½²ç›¸å…³é…ç½®
â”‚   â”œâ”€â”€ docker-compose.yml         # åŸå§‹Dockeré…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ docker-compose-å­¦ä¹ ç‰ˆ-å¸¦ä¸­æ–‡æ³¨é‡Š.yml  # å¸¦è¯¦ç»†ä¸­æ–‡æ³¨é‡Šçš„é…ç½®æ–‡ä»¶
â”œâ”€â”€ 02-ç¯å¢ƒå˜é‡é…ç½®/               # ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ .env                       # åŸå§‹ç¯å¢ƒå˜é‡æ–‡ä»¶
â”‚   â””â”€â”€ .env-å­¦ä¹ ç‰ˆ-å¸¦ä¸­æ–‡æ³¨é‡Š      # å¸¦è¯¦ç»†ä¸­æ–‡æ³¨é‡Šçš„ç¯å¢ƒå˜é‡æ–‡ä»¶
â”œâ”€â”€ 03-N8Nå·¥ä½œæµæ–‡ä»¶/              # N8Nå·¥ä½œæµå’Œæ¨¡æ¿
â”‚   â””â”€â”€ (å·¥ä½œæµJSONæ–‡ä»¶)
â”œâ”€â”€ 04-N8Nå‡­æ®æ–‡ä»¶/               # N8Nå‡­æ®é…ç½®
â”‚   â””â”€â”€ (å‡­æ®é…ç½®æ–‡ä»¶)
â”œâ”€â”€ 05-æ•°æ®åº“é…ç½®/                # æ•°æ®åº“ç›¸å…³é…ç½®
â”‚   â””â”€â”€ (æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬)
â”œâ”€â”€ 06-è„šæœ¬æ–‡ä»¶/                  # éƒ¨ç½²å’Œç®¡ç†è„šæœ¬
â”‚   â”œâ”€â”€ deploy_n8n.sh            # åŸå§‹éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ deploy_n8n-å­¦ä¹ ç‰ˆ-å¸¦ä¸­æ–‡æ³¨é‡Š.sh  # å¸¦è¯¦ç»†ä¸­æ–‡æ³¨é‡Šçš„éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ (å…¶ä»–ç®¡ç†è„šæœ¬)
â”œâ”€â”€ 07-Kubernetesé…ç½®/            # K8séƒ¨ç½²é…ç½®
â”‚   â””â”€â”€ (K8s YAMLæ–‡ä»¶)
â”œâ”€â”€ 08-ç›‘æ§é…ç½®/                  # ç›‘æ§å’Œæ—¥å¿—é…ç½®
â”‚   â””â”€â”€ (ç›‘æ§é…ç½®æ–‡ä»¶)
â”œâ”€â”€ 09-å­¦ä¹ æ–‡æ¡£/                  # åŸå§‹æ–‡æ¡£æ–‡ä»¶
â”‚   â””â”€â”€ (READMEç­‰æ–‡æ¡£)
â”œâ”€â”€ 10-å­¦ä¹ æŒ‡å—/                  # å­¦ä¹ æŒ‡å—å’Œæ•™ç¨‹
â”‚   â”œâ”€â”€ N8Nç³»ç»Ÿå­¦ä¹ æŒ‡å—.md        # å®Œæ•´çš„ç³»ç»Ÿå­¦ä¹ æŒ‡å—
â”‚   â”œâ”€â”€ é…ç½®æ–‡ä»¶è¯¦è§£.md           # é…ç½®æ–‡ä»¶è¯¦ç»†è¯´æ˜
â”‚   â”œâ”€â”€ å¿«é€Ÿå…¥é—¨æŒ‡å—.md           # å¿«é€Ÿå…¥é—¨æ•™ç¨‹
â”‚   â””â”€â”€ å¸¸è§é—®é¢˜è§£ç­”.md           # FAQæ–‡æ¡£
â””â”€â”€ README.md                     # æœ¬æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿ä½ çš„ç³»ç»Ÿå·²å®‰è£…ï¼š
- Docker 20.10.0+
- Docker Compose 2.0.0+
- Gitï¼ˆå¯é€‰ï¼‰

### 2. å¿«é€Ÿéƒ¨ç½²

**æ–¹æ³•ä¸€ï¼šä½¿ç”¨éƒ¨ç½²è„šæœ¬ï¼ˆæ¨èï¼‰**
```bash
# è¿›å…¥å­¦ä¹ æ–‡ä»¶å¤¹
cd N8Nå­¦ä¹ é…ç½®æ–‡ä»¶å¤¹

# è¿è¡Œéƒ¨ç½²è„šæœ¬
chmod +x 06-è„šæœ¬æ–‡ä»¶/deploy_n8n-å­¦ä¹ ç‰ˆ-å¸¦ä¸­æ–‡æ³¨é‡Š.sh
./06-è„šæœ¬æ–‡ä»¶/deploy_n8n-å­¦ä¹ ç‰ˆ-å¸¦ä¸­æ–‡æ³¨é‡Š.sh
```

**æ–¹æ³•äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²**
```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp 01-Dockeré…ç½®æ–‡ä»¶/docker-compose-å­¦ä¹ ç‰ˆ-å¸¦ä¸­æ–‡æ³¨é‡Š.yml docker-compose.yml
cp 02-ç¯å¢ƒå˜é‡é…ç½®/.env-å­¦ä¹ ç‰ˆ-å¸¦ä¸­æ–‡æ³¨é‡Š .env

# ç¼–è¾‘é…ç½®ï¼ˆå¯é€‰ï¼‰
nano .env

# å¯åŠ¨æœåŠ¡
docker-compose up -d
```

### 3. è®¿é—®N8N

- æœ¬åœ°è®¿é—®ï¼šhttp://localhost:5678
- é»˜è®¤ç”¨æˆ·åï¼šadmin
- é»˜è®¤å¯†ç ï¼šè¯·æŸ¥çœ‹.envæ–‡ä»¶ä¸­çš„é…ç½®

## ğŸ“š å­¦ä¹ è·¯å¾„

### åˆå­¦è€…ï¼ˆç¬¬1-2å‘¨ï¼‰

1. **é˜…è¯»åŸºç¡€æ–‡æ¡£**
   - [å¿«é€Ÿå…¥é—¨æŒ‡å—](10-å­¦ä¹ æŒ‡å—/å¿«é€Ÿå…¥é—¨æŒ‡å—.md)
   - [é…ç½®æ–‡ä»¶è¯¦è§£](10-å­¦ä¹ æŒ‡å—/é…ç½®æ–‡ä»¶è¯¦è§£.md)

2. **å®è·µæ“ä½œ**
   - éƒ¨ç½²N8Nç³»ç»Ÿ
   - åˆ›å»ºç¬¬ä¸€ä¸ªå·¥ä½œæµ
   - å­¦ä¹ åŸºæœ¬èŠ‚ç‚¹ä½¿ç”¨

3. **æ¨èç»ƒä¹ **
   - å®šæ—¶ä»»åŠ¡ï¼šæ¯æ—¥å¤©æ°”é€šçŸ¥
   - APIé›†æˆï¼šè·å–å¤–éƒ¨æ•°æ®
   - é‚®ä»¶è‡ªåŠ¨åŒ–ï¼šå‘é€é€šçŸ¥é‚®ä»¶

### è¿›é˜¶å­¦ä¹ ï¼ˆç¬¬3-4å‘¨ï¼‰

1. **æ·±å…¥å­¦ä¹ **
   - [N8Nç³»ç»Ÿå­¦ä¹ æŒ‡å—](10-å­¦ä¹ æŒ‡å—/N8Nç³»ç»Ÿå­¦ä¹ æŒ‡å—.md)
   - å¤æ‚å·¥ä½œæµè®¾è®¡
   - é”™è¯¯å¤„ç†å’Œç›‘æ§

2. **å®è·µé¡¹ç›®**
   - æ•°æ®åŒæ­¥å·¥ä½œæµ
   - ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–
   - å¤šç³»ç»Ÿé›†æˆ

3. **æ€§èƒ½ä¼˜åŒ–**
   - ç³»ç»Ÿæ€§èƒ½è°ƒä¼˜
   - å¤§æ•°æ®é‡å¤„ç†
   - ç›‘æ§å’Œå‘Šè­¦

### é«˜çº§åº”ç”¨ï¼ˆç¬¬5-8å‘¨ï¼‰

1. **è‡ªå®šä¹‰å¼€å‘**
   - è‡ªå®šä¹‰èŠ‚ç‚¹å¼€å‘
   - å¤æ‚ä¸šåŠ¡é€»è¾‘å®ç°
   - ç¬¬ä¸‰æ–¹ç³»ç»Ÿé›†æˆ

2. **ä¼ä¸šçº§éƒ¨ç½²**
   - é«˜å¯ç”¨éƒ¨ç½²
   - å®‰å…¨é…ç½®
   - å¤‡ä»½å’Œæ¢å¤

## ğŸ”§ é…ç½®è¯´æ˜

### æ ¸å¿ƒé…ç½®æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ | å­¦ä¹ ç‰ˆæœ¬ |
|------|------|----------|
| `docker-compose.yml` | DockeræœåŠ¡ç¼–æ’é…ç½® | `docker-compose-å­¦ä¹ ç‰ˆ-å¸¦ä¸­æ–‡æ³¨é‡Š.yml` |
| `.env` | ç¯å¢ƒå˜é‡é…ç½® | `.env-å­¦ä¹ ç‰ˆ-å¸¦ä¸­æ–‡æ³¨é‡Š` |
| `deploy_n8n.sh` | è‡ªåŠ¨éƒ¨ç½²è„šæœ¬ | `deploy_n8n-å­¦ä¹ ç‰ˆ-å¸¦ä¸­æ–‡æ³¨é‡Š.sh` |

### é‡è¦é…ç½®é¡¹

```bash
# åŸºç¡€é…ç½®
DOMAIN_NAME=localhost                    # åŸŸåé…ç½®
N8N_PORT=5678                           # N8Nç«¯å£
N8N_PROTOCOL=http                       # åè®®ç±»å‹

# è®¤è¯é…ç½®
N8N_BASIC_AUTH_ACTIVE=true              # å¯ç”¨åŸºç¡€è®¤è¯
N8N_BASIC_AUTH_USER=admin               # ç®¡ç†å‘˜ç”¨æˆ·å
N8N_BASIC_AUTH_PASSWORD=your-password   # ç®¡ç†å‘˜å¯†ç 

# æ•°æ®åº“é…ç½®
POSTGRES_DB=n8n                        # æ•°æ®åº“å
POSTGRES_USER=n8n                      # æ•°æ®åº“ç”¨æˆ·
POSTGRES_PASSWORD=your-db-password      # æ•°æ®åº“å¯†ç 
```

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

### Dockerç®¡ç†
```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# åœæ­¢æœåŠ¡
docker-compose down

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f n8n

# é‡å¯æœåŠ¡
docker-compose restart n8n
```

### æ•°æ®ç®¡ç†
```bash
# å¤‡ä»½æ•°æ®åº“
docker-compose exec postgres pg_dump -U n8n n8n > backup.sql

# æ¢å¤æ•°æ®åº“
docker-compose exec postgres psql -U n8n -d n8n < backup.sql

# å¯¼å‡ºå·¥ä½œæµ
docker-compose exec n8n n8n export:workflow --all --output=/backup/

# å¯¼å…¥å·¥ä½œæµ
docker-compose exec n8n n8n import:workflow --input=/backup/
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   # æŸ¥çœ‹ç«¯å£å ç”¨
   lsof -i :5678
   
   # ä¿®æ”¹ç«¯å£é…ç½®
   # ç¼–è¾‘.envæ–‡ä»¶ä¸­çš„N8N_PORT
   ```

2. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   ```bash
   # æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
   docker-compose logs postgres
   
   # é‡å¯æ•°æ®åº“
   docker-compose restart postgres
   ```

3. **å†…å­˜ä¸è¶³**
   ```bash
   # æ£€æŸ¥ç³»ç»Ÿèµ„æº
   docker stats
   
   # è°ƒæ•´é…ç½®
   # ç¼–è¾‘.envæ–‡ä»¶ä¸­çš„å¹¶å‘è®¾ç½®
   ```

æ›´å¤šé—®é¢˜è§£å†³æ–¹æ¡ˆè¯·æŸ¥çœ‹ï¼š[å¸¸è§é—®é¢˜è§£ç­”](10-å­¦ä¹ æŒ‡å—/å¸¸è§é—®é¢˜è§£ç­”.md)

## ğŸ“– å­¦ä¹ èµ„æº

### å®˜æ–¹èµ„æº
- [N8Nå®˜æ–¹æ–‡æ¡£](https://docs.n8n.io/)
- [N8Nç¤¾åŒºè®ºå›](https://community.n8n.io/)
- [N8N GitHubä»“åº“](https://github.com/n8n-io/n8n)

### ä¸­æ–‡èµ„æº
- æœ¬æ–‡ä»¶å¤¹ä¸­çš„å­¦ä¹ æŒ‡å—
- [N8Nä¸­æ–‡æ•™ç¨‹](https://www.bilibili.com/search?keyword=N8N)
- æŠ€æœ¯åšå®¢å’Œç¤¾åŒºæ–‡ç« 

### å®è·µé¡¹ç›®
- ä¸ªäººè‡ªåŠ¨åŒ–åŠ©æ‰‹
- ä¼ä¸šä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–
- æ•°æ®é›†æˆå’ŒåŒæ­¥
- ç›‘æ§å’Œå‘Šè­¦ç³»ç»Ÿ

## ğŸ¤ è´¡çŒ®æŒ‡å—

å¦‚æœä½ å‘ç°æ–‡æ¡£ä¸­çš„é”™è¯¯æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼š

1. **æäº¤Issue**ï¼šæè¿°é—®é¢˜æˆ–å»ºè®®
2. **æäº¤PR**ï¼šç›´æ¥ä¿®æ”¹å¹¶æäº¤æ”¹è¿›
3. **åˆ†äº«ç»éªŒ**ï¼šåœ¨ç¤¾åŒºåˆ†äº«ä½ çš„ä½¿ç”¨ç»éªŒ

## ğŸ“„ è®¸å¯è¯

æœ¬å­¦ä¹ èµ„æ–™åŸºäºåŸé¡¹ç›®çš„è®¸å¯è¯ï¼Œä»…ç”¨äºå­¦ä¹ å’Œæ•™è‚²ç›®çš„ã€‚

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœåœ¨å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹æ–‡æ¡£**ï¼šé¦–å…ˆæŸ¥çœ‹ç›¸å…³çš„å­¦ä¹ æŒ‡å—
2. **æœç´¢FAQ**ï¼šæŸ¥çœ‹å¸¸è§é—®é¢˜è§£ç­”
3. **æŸ¥çœ‹æ—¥å¿—**ï¼šæ£€æŸ¥ç³»ç»Ÿæ—¥å¿—è·å–é”™è¯¯ä¿¡æ¯
4. **ç¤¾åŒºæ±‚åŠ©**ï¼šåœ¨N8Nç¤¾åŒºè®ºå›æé—®
5. **GitHub Issues**ï¼šåœ¨å®˜æ–¹ä»“åº“æäº¤é—®é¢˜

---

## ğŸ¯ å­¦ä¹ ç›®æ ‡

é€šè¿‡æœ¬å­¦ä¹ æ–‡ä»¶å¤¹ï¼Œä½ å°†èƒ½å¤Ÿï¼š

âœ… **æŒæ¡N8NåŸºç¡€æ¦‚å¿µ**ï¼šç†è§£å·¥ä½œæµã€èŠ‚ç‚¹ã€è¿æ¥ç­‰æ ¸å¿ƒæ¦‚å¿µ
âœ… **ç‹¬ç«‹éƒ¨ç½²N8Nç³»ç»Ÿ**ï¼šä½¿ç”¨Dockerå¿«é€Ÿæ­å»ºN8Nç¯å¢ƒ
âœ… **åˆ›å»ºå®ç”¨å·¥ä½œæµ**ï¼šè®¾è®¡å’Œå®ç°å„ç§è‡ªåŠ¨åŒ–ä»»åŠ¡
âœ… **è§£å†³å¸¸è§é—®é¢˜**ï¼šå…·å¤‡åŸºæœ¬çš„æ•…éšœæ’é™¤èƒ½åŠ›
âœ… **ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½**ï¼šäº†è§£æ€§èƒ½è°ƒä¼˜å’Œæœ€ä½³å®è·µ
âœ… **é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡**ï¼šè¿æ¥å„ç§APIå’ŒæœåŠ¡
âœ… **ä¼ä¸šçº§åº”ç”¨**ï¼šæŒæ¡ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å’Œç®¡ç†

## ğŸŒŸ å¼€å§‹ä½ çš„N8Nå­¦ä¹ ä¹‹æ—…

ç°åœ¨å°±å¼€å§‹å§ï¼ä»[å¿«é€Ÿå…¥é—¨æŒ‡å—](10-å­¦ä¹ æŒ‡å—/å¿«é€Ÿå…¥é—¨æŒ‡å—.md)å¼€å§‹ï¼Œé€æ­¥æŒæ¡N8Nçš„å¼ºå¤§åŠŸèƒ½ã€‚

è®°ä½ï¼š**å®è·µæ˜¯æœ€å¥½çš„è€å¸ˆ**ã€‚ä¸è¦åªæ˜¯é˜…è¯»æ–‡æ¡£ï¼ŒåŠ¨æ‰‹åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªå·¥ä½œæµï¼Œåœ¨å®è·µä¸­å­¦ä¹ å’Œæˆé•¿ï¼

---

*ç¥ä½ å­¦ä¹ æ„‰å¿«ï¼ğŸš€*

*æœ€åæ›´æ–°æ—¶é—´ï¼š2024å¹´1æœˆ*